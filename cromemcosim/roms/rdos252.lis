Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 1
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
                       1      1 ;
                       2      2 ;  Disassembly of Cromemco's RDOS 2.52 ROM for the 16FDC Disk Controller
                       3      3 ;      it normally resides at C000H to CFFFH
                       4      4 ;
                       5      5         ORG     0C000H
                       6      6 ;
000d                   7      7 CR	EQU	0DH
0020                   8      8 SPACE	EQU	20H
0008                   9      9 BS	EQU	08H
001b                  10     10 ESC	EQU	1BH
0027                  11     11 squote	equ	27h
0080                  12     12 msbon	EQU	80H
                      13     13 ;
c000  f3              14     14 start:	DI
c001  18 3c           15     15 	JR	cldst
                      16     16 ;
c003  c3 30 c0        17     17 C003:	JP	C030
c006  c3 09 c5        18     18 	JP	C504
c009  c3 37 c0        19     19 	JP	C037
c00c  c3 3b c0        20     20 	JP	C03B
c00f  c3 aa cb        21     21 	JP	CB9E
c012  c3 45 cd        22     22 	JP	CD37
c015  c3 d9 c4        23     23 	JP	C4D4
c018  c3 60 cd        24     24 	JP	CD52
c01b  c3 b0 c5        25     25 	JP	C5AB
c01e  c3 4e c2        26     26 	JP	seturt	; set up UART
c021  c3 7a cc        27     27 	JP	inchr	; input
c024  c3 84 cc        28     28 	JP	ckinst	; inp. status
c027  c3 f7 cb        29     29 	JP	CBEA
c02a  c3 03 c8        30     30 	JP	pt7ba	; output
c02d  c3 a5 cc        31     31 	JP	crlf
                      32     32 ;
c030  32 77 00        33     33 C030:	LD	(77H),A
c033  78              34     34 	LD	A,B
c034  c3 8a c3        35     35 	JP	C387
                      36     36 ;
c037  32 75 00        37     37 C037:	LD	(75H),A
c03a  c9              38     38 	RET
                      39     39 ;
c03b  32 76 00        40     40 C03B:	LD	(76H),A
c03e  c9              41     41 	RET
                      42     42 ;
c03f  af              43     43 cldst:	XOR	A	;inhibit 5501 interrupts
c040  d3 03           44     44 	OUT	(3),A
c042  47              45     45 	LD	B,A
c043  d9              46     46 	EXX
c044  2f              47     47 	CPL		;turn off PerSci and voice
c045  d3 04           48     48 	OUT	(4),A	;    coil options
c047  3e d0           49     49 	LD	A,0D0H
c049  d3 30           50     50 	OUT	(30H),A	;force interrupt on FDC
c04b  21 2e 00        51     51 	LD	HL,2EH
c04e  f9              52     52 	LD	SP,HL
c04f  25              53     53 clp1:	DEC	H
c050  20 fd           54     54 	JR	NZ,clp1
c052  74              55     55 clp2:	LD	(HL),H
c053  2c              56     56 	INC	L
c054  20 fc           57     57 	JR	NZ,clp2
c056  24              58     58 	INC	H
c057  22 62 00        59     59 	LD	(62H),HL
c05a  22 64 00        60     60 	LD	(64H),HL
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 2
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c05d  cd 4e c2        61     61 	CALL	seturt
c060  db 34           62     62 	IN	A,(34H)	; sw 3 set for autoboot?
c062  e6 40           63     63 	AND	40H
c064  c2 3b c1        64     64 	JP	NZ,gomon ; no
c067  db 04           65     65 getsw:	IN	A,(04H)	;read sense switches
c069  2f              66     66 	CPL		;on = 1
c06a  e6 03           67     67 	AND	3	;bits 7 & 8 (unused??)
c06c  32 77 00        68     68 boot:	LD	(77H),A
c06f  cd 0b c8        69     69 	CALL	ptfol
c072  50 72 65 70     70     70         DEFB    'Preparing to boot, ESC to abort'
c076  61 72 69 6e     70     71
c07a  67 20 74 6f     70     72
c07e  20 62 6f 6f     70     73
c082  74 2c 20 45     70     74
c086  53 43 20 74     70     75
c08a  6f 20 61 62     70     76
c08e  6f 72 74        70     77
c091  8d              71     78         DEFB    CR+msbon
c092  cd b6 cf        72     79 	CALL	setsel
c095  57              73     80 	LD	D,A
c096  d3 34           74     81 	OUT	(34H),A
c098  06 64           75     82 	LD	B,64H
c09a  cd 2a c1        76     83 esclp:	CALL	ckesc	; look for escape
c09d  21 64 00        77     84 	LD	HL,64H
c0a0  cd ff cf        78     85 	CALL	dela1
c0a3  10 f5           79     86 	DJNZ	esclp
c0a5  32 75 00        80     87 	LD	(75H),A
c0a8  32 7d 00        81     88 	LD	(7DH),A
c0ab  32 78 00        82     89 	LD	(78H),A
c0ae  3c              83     90 	INC	A
c0af  32 76 00        84     91 	LD	(76H),A
c0b2  cd fa c1        85     92 	CALL	C1F7
c0b5  32 7e 00        86     93 	LD	(7EH),A
c0b8  21 80 00        87     94 	LD	HL,80H
c0bb  22 7b 00        88     95 	LD	(7BH),HL
c0be  22 79 00        89     96 	LD	(79H),HL
c0c1  3e 42           90     97 	LD	A,'B'
c0c3  32 70 00        91     98 	LD	(70H),A
c0c6  06 02           92     99 	LD	B,2
c0c8  c5              93    100 C0C8:	PUSH	BC
c0c9  cd 45 cd        94    101 	CALL	CD37
c0cc  d4 d9 cd        95    102 	CALL	NC,CDCB
c0cf  d4 60 cd        96    103 	CALL	NC,CD52
c0d2  c1              97    104 	POP	BC
c0d3  30 14           98    105 	JR	NC,C0E8
c0d5  cd 2a c1        99    106 	CALL	ckesc	; look for escape
c0d8  10 ee          100    107 	DJNZ	C0C8
c0da  cd 0b c8       101    108 	CALL	ptfol
c0dd  0d 55 6e 61    102    109 	DEFB    CR,'Unable ','t'+msbon
c0e1  62 6c 65 20    102    110
c0e5  74 80          102    111
c0e7  18 2e          103    112 	JR	C115
                     104    113 ;
c0e9  3a 80 00       105    114 C0E8:	LD	A,(80H)
c0ec  fe 40          106    115 	CP	40H
c0ee  28 04          107    116 	JR	Z,C0F3
c0f0  fe e5          108    117 	CP	0E5H
c0f2  20 08          109    118 	JR	NZ,C0FA
c0f4  cd 0b c8       110    119 C0F3:	CALL	ptfol
c0f7  0d 4e 80       111    120         DEFB    CR,'N'+msbon
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 3
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c0fa  18 1b          112    121     	JR      C115
                     113    122 ;
c0fc  cd 2a c1       114    123 C0FA:	CALL	ckesc	; look for escape
c0ff  cd b6 cf       115    124 	CALL	setsel
c102  57             116    125 	LD	D,A
c103  3a 77 00       117    126 	LD	A,(77H)
c106  08             118    127 	EX	AF,AF'
c107  cd 0b c8       119    128 	CALL	ptfol
c10a  0d 53 74 61    120    129 	DEFB    CR,'Standby',CR+msbon
c10e  6e 64 62 79    120    130
c112  8d             120    131
c113  37             121    132 	SCF
c114  c3 80 00       122    133 	JP	80H
                     123    134 ;
c117  cd 0b c8       124    135 C115:	CALL	ptfol
c11a  6f 20 62 6f    125    136 	DEFB    'o boot',CR+msbon
c11e  6f 74 8d       125    137
c121  3a 71 00       126    138 	LD	A,(71H)
c124  b7             127    139 	OR	A
c125  c4 5c c3       128    140 	CALL	NZ,C359
c128  18 09          129    141 	JR	C131
                     130    142 ;
c12a  cd 84 cc       131    143 ckesc:	CALL	ckinst
c12d  c4 7a cc       132    144 	CALL	NZ,inchr
c130  fe 1b          133    145 	CP	esc
c132  c0             134    146 	RET	NZ
c133  3e d0          135    147 C131:	LD	A,0D0H	;force FDC interrupt
c135  d3 30          136    148 	OUT	(30H),A
c137  3e 7c          137    149 	LD	A,7CH	;select side 1
c139  d3 04          138    150 	OUT	(4),A
c13b  cd 0b c8       139    151 gomon:	CALL	ptfol
c13e  0d 43 72 6f    140    152 	DEFB    CR,'Cromemco RDOS 02.52',CR+msbon
c142  6d 65 6d 63    140    153
c146  6f 20 52 44    140    154
c14a  4f 53 20 30    140    155
c14e  32 2e 35 32    140    156
c152  8d             140    157
c153  af             141    158 C151:	XOR     A
c154  32 6c 00       142    159 	LD	(6CH),A
c157  3a 7e 00       143    160 inlp:	LD	A,(7EH)
c15a  47             144    161 	LD	B,A
c15b  cd e5 c1       145    162 	CALL	C1E2
c15e  31 2e 00       146    163 	LD	SP,2EH
c161  cd 0b c8       147    164 	CALL	ptfol
c164  3b 80          148    165         DEFB    ';'+msbon
c166  cd a8 c7       149    166 	CALL	C7A3
c169  cd 19 c8       150    167 	CALL	loctok
c16c  a7             151    168 	AND	A
c16d  28 e4          152    169 	JR	Z,C151
c16f  cd c4 c2       153    170 	CALL	C2C1
c172  28 e3          154    171 	JR	Z,inlp
c174  78             155    172 	LD	A,B
c175  fe 17          156    173 	CP	17H
c177  30 47          157    174 	JR	NC,inper
c179  87             158    175 	ADD	A,A
c17a  21 8e c1       159    176 	LD	HL,table
c17d  cd 89 c1       160    177 	CALL	C186
c180  7e             161    178 	LD	A,(HL)
c181  23             162    179 	INC	HL
c182  66             163    180 	LD	H,(HL)
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 4
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c183  6f             164    181 	LD	L,A
c184  cd ca c1       165    182 	CALL	C1C7   ; go there
c187  18 ce          166    183 	JR	inlp
                     167    184 ;
c189  85             168    185 C186:	ADD	A,L
c18a  6f             169    186 	LD	L,A
c18b  d0             170    187 	RET	NC
c18c  24             171    188 	INC	H
c18d  c9             172    189 	RET
                     173    190 ;
c18e  0b cd          174    191 table:  DEFW	CCFD	; Align
c190  cb c1          175    192 	DEFW	C1C8	; Boot
c192  c0 c1          176    193 	DEFW	inper	; ?
c194  30 c7          177    194 	DEFW	C72B	; Display
c196  2f c6          178    195 	DEFW	C62A	; Examine
c198  c0 c1          179    196 	DEFW	inper	; ?
c19a  c7 c1          180    197 	DEFW	C1C4	; Go
c19c  c0 c1          181    198 	DEFW	inper	; ?
c19e  48 c2          182    199 	DEFW	C245	; Init
c1a0  c0 c1          183    200 	DEFW	inper	; ?
c1a2  c0 c1          184    201 	DEFW	inper	; ?
c1a4  3d c4          185    202 	DEFW	C439	; Logged disks
c1a6  4a c6          186    203 	DEFW	C645	; Move
c1a8  c0 c1          187    204 	DEFW	inper	; ?
c1aa  3b c6          188    205 	DEFW	C636	; Output
c1ac  c0 c1          189    206 	DEFW	inper	; ?
c1ae  c7 c6          190    207 	DEFW	C6C2	; Query
c1b0  1b c5          191    208 	DEFW	C516	; Read disk
c1b2  7f c6          192    209 	DEFW	C67A	; Set
c1b4  46 c9          193    210 	DEFW	C941	; Test
c1b6  c0 c1          194    211 	DEFW	inper	; ?
c1b8  57 c6          195    212 	DEFW	C652	; Verify
c1ba  1f c5          196    213 	DEFW	C51A	; Write disk
                     197    214 ;
c1bc  af             198    215 C1B9:	XOR	A
c1bd  32 6c 00       199    216 	LD	(6CH),A
c1c0  cd 0b c8       200    217 inper:	CALL	ptfol
c1c3  3f 8d          201    218 	DEFB    '?',CR+msbon
c1c5  18 90          202    219 	JR	inlp
                     203    220 ;
c1c7  cd 58 c8       204    221 C1C4:	CALL	C853
c1ca  e9             205    222 C1C7:	JP	(HL)
                     206    223 ;
c1cb  cd 19 c8       207    224 C1C8:	CALL	loctok
c1ce  b7             208    225 	OR	A
c1cf  ca 67 c0       209    226 	JP	Z,getsw
c1d2  fe 45          210    227 	CP	'E'
c1d4  d2 2e c4       211    228 	JP	NC,C42A
c1d7  d6 41          212    229 	SUB	'A'
c1d9  da 2e c4       213    230 	JP	C,C42A
c1dc  f5             214    231 	PUSH	AF
c1dd  13             215    232 	INC	DE
c1de  cd 2c c8       216    233 	CALL	fndeol
c1e1  f1             217    234 	POP	AF
c1e2  c3 6c c0       218    235 	JP	boot
                     219    236 ;
c1e5  3a 6c 00       220    237 C1E2:	LD	A,(6CH)
c1e8  b7             221    238 	OR	A
c1e9  c8             222    239 	RET	Z
c1ea  cd 03 c8       223    240 	CALL	pt7ba
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 5
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c1ed  cb 58          224    241 	BIT	3,B
c1ef  c0             225    242 	RET	NZ
c1f0  cb 78          226    243 	BIT	7,B
c1f2  3e 3b          227    244 	LD	A,';'
c1f4  c4 03 c8       228    245 	CALL	NZ,pt7ba
c1f7  c3 03 c8       229    246 	JP	pt7ba
                     230    247 ;
c1fa  7a             231    248 C1F7:	LD	A,D
c1fb  d3 34          232    249 	OUT	(34H),A
c1fd  3e df          233    250 	LD	A,0DFH
c1ff  d3 04          234    251 	OUT	(4),A
c201  3e d4          235    252 	LD	A,0D4H
c203  d3 30          236    253 	OUT	(30H),A
c205  db 34          237    254 C202:	IN	A,(34H)
c207  0f             238    255 	RRCA
c208  30 fb          239    256 	JR	NC,C202
c20a  db 30          240    257 	IN	A,(30H)
c20c  01 00 02       241    258 	LD	BC,200H
c20f  cd 3e c2       242    259 	CALL	C23B
c212  3e d4          243    260 C20F:	LD	A,0D4H
c214  d3 30          244    261 	OUT	(30H),A
c216  cd 37 c2       245    262 C213:	CALL	C234
c219  28 df          246    263 	JR	Z,C1F7
c21b  db 34          247    264 	IN	A,(34H)
c21d  0f             248    265 	RRCA
c21e  30 f6          249    266 	JR	NC,C213
c220  db 30          250    267 	IN	A,(30H)
c222  10 ee          251    268 	DJNZ	C20F
c224  af             252    269 	XOR	A
c225  d3 03          253    270 	OUT	(3),A
c227  79             254    271 	LD	A,C
c228  fe 5a          255    272 	CP	'Z'
c22a  30 03          256    273 	JR	NC,C22C
c22c  87             257    274 	ADD	A,A
c22d  87             258    275 	ADD	A,A
c22e  87             259    276 	ADD	A,A
c22f  fe b7          260    277 C22C:	CP	0B7H
c231  3e 80          261    278 	LD	A,80H
c233  d0             262    279 	RET	NC
c234  3e 04          263    280 	LD	A,4
c236  c9             264    281 	RET
                     265    282 ;
c237  db 03          266    283 C234:	IN	A,(3)
c239  fe c7          267    284 	CP	0C7H
c23b  c0             268    285 	RET	NZ
c23c  0c             269    286 	INC	C
c23d  c8             270    287 	RET	Z
c23e  3e 01          271    288 C23B:	LD	A,1
c240  d3 03          272    289 	OUT	(3),A
c242  3e fa          273    290 	LD	A,0FAH
c244  d3 05          274    291 	OUT	(5),A
c246  18 ef          275    292 	JR	C234
                     276    293 ;
c248  cd 2c c8       277    294 C245:	CALL	fndeol
c24b  cd a5 cc       278    295 	CALL	crlf
c24e  db 04          279    296 seturt:	IN	A,(4)	; aux. disk status
c250  e6 08          280    297 	AND	8
c252  28 5d          281    298 	JR	Z,C2AE	; baud rate preset
c254  3e 0a          282    299 C251:	LD	A,0AH
c256  d3 02          283    300 	OUT	(2),A	; UART command register
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 6
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c258  21 d0 07       284    301 	LD	HL,7D0H
c25b  cd ff cf       285    302 	CALL	dela1
c25e  3e 08          286    303 	LD	A,8
c260  d3 02          287    304 	OUT	(2),A
c262  16 64          288    305 	LD	D,64H
c264  15             289    306 C261:	DEC	D
c265  28 ed          290    307 	JR	Z,C251
c267  21 b9 c2       291    308 C264:	LD	HL,0C2B9H
c26a  0e 00          292    309 	LD	C,0
c26c  3e 19          293    310 	LD	A,19H
c26e  06 09          294    311 	LD	B,9
c270  d3 02          295    312 C26D:	OUT	(2),A
c272  ed a3          296    313 	OUTI
c274  28 ee          297    314 	JR	Z,C261
c276  cd 9b c2       298    315 	CALL	C298
c279  cd 9b c2       299    316 	CALL	C298
c27c  38 e9          300    317 	JR	C,C264
c27e  fe 0d          301    318 	CP	0DH
c280  3e 09          302    319 	LD	A,9
c282  20 ec          303    320 	JR	NZ,C26D
c284  3e 0d          304    321 C281:	LD	A,0DH
c286  d3 01          305    322 	OUT	(1),A
c288  21 a0 0f       306    323 	LD	HL,0FA0H
c28b  cd ff cf       307    324 	CALL	dela1
c28e  cd 84 cc       308    325 	CALL	ckinst
c291  c4 7a cc       309    326 	CALL	NZ,inchr
c294  fe 0d          310    327 	CP	0DH
c296  28 ec          311    328 	JR	Z,C281
c298  c3 a5 cc       312    329 	JP	crlf
                     313    330 ;
c29b  d5             314    331 C298:	PUSH	DE
c29c  11 a0 8c       315    332 	LD	DE,8CA0H
c29f  cd 84 cc       316    333 C29C:	CALL	ckinst
c2a2  28 05          317    334 	JR	Z,C2A6
c2a4  cd 7a cc       318    335 	CALL	inchr
c2a7  18 06          319    336 	JR	C2AC
                     320    337 ;
c2a9  1b             321    338 C2A6:	DEC	DE
c2aa  7a             322    339 	LD	A,D
c2ab  b3             323    340 	OR	E
c2ac  20 f1          324    341 	JR	NZ,C29C
c2ae  37             325    342 	SCF
c2af  d1             326    343 C2AC:	POP	DE
c2b0  c9             327    344 	RET
                     328    345 ;
c2b1  3e 09          329    346 C2AE:	LD	A,9
c2b3  d3 02          330    347 	OUT	(2),A
c2b5  3e 84          331    348 	LD	A,84H
c2b7  d3 00          332    349 	OUT	(0),A
c2b9  c3 a5 cc       333    350 	JP	crlf
                     334    351 ;
c2bc  90 c0 a0 90    335    352 C2B9:	DEFB	90H,0C0H,0A0H,90H
c2c0  88 84 82 01    336    353 	DEFB	88H,84H,82H,1
                     337    354 ;
c2c4  d6 41          338    355 C2C1:	SUB	'A'
c2c6  da c0 c1       339    356 	JP	C,inper
c2c9  47             340    357 	LD	B,A
c2ca  13             341    358 	INC	DE
c2cb  1a             342    359 	LD	A,(DE)
c2cc  fe 3b          343    360 	CP	';'
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 7
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c2ce  c0             344    361 	RET	NZ
c2cf  78             345    362 	LD	A,B
c2d0  fe 04          346    363 	CP	4
c2d2  d2 2e c4       347    364 	JP	NC,C42A
c2d5  c6 41          348    365 	ADD	A,'A'
c2d7  32 6c 00       349    366 	LD	(6CH),A
c2da  cd f9 c3       350    367 	CALL	C3F6
c2dd  13             351    368 	INC	DE
c2de  1a             352    369 	LD	A,(DE)
c2df  fe 3b          353    370 	CP	';'
c2e1  06 0c          354    371 	LD	B,0CH
c2e3  20 0b          355    372 	JR	NZ,C2ED
c2e5  13             356    373 	INC	DE
c2e6  1a             357    374 	LD	A,(DE)
c2e7  fe 3b          358    375 	CP	';'
c2e9  06 04          359    376 	LD	B,4
c2eb  20 03          360    377 	JR	NZ,C2ED
c2ed  06 80          361    378 	LD	B,80H
c2ef  13             362    379 	INC	DE
c2f0  c5             363    380 C2ED:	PUSH	BC
c2f1  cd ba c3       364    381 	CALL	C3B7
c2f4  c1             365    382 	POP	BC
c2f5  70             366    383 	LD	(HL),B
c2f6  30 06          367    384 	JR	NC,C2FB
c2f8  3a 6d 00       368    385 	LD	A,(6DH)
c2fb  b0             369    386 	OR	B
c2fc  77             370    387 	LD	(HL),A
c2fd  37             371    388 	SCF
c2fe  f5             372    389 C2FB:	PUSH	AF
c2ff  cd 87 c3       373    390 	CALL	C384
c302  32 78 00       374    391 	LD	(78H),A
c305  32 7d 00       375    392 	LD	(7DH),A
c308  3c             376    393 	INC	A
c309  32 76 00       377    394 	LD	(76H),A
c30c  cd 09 c6       378    395 	CALL	C604
c30f  3e 48          379    396 	LD	A,'H'
c311  32 70 00       380    397 	LD	(70H),A
c314  cd 45 cd       381    398 	CALL	CD37
c317  f5             382    399 	PUSH	AF
c318  cd 23 c6       383    400 	CALL	C61E
c31b  f1             384    401 	POP	AF
c31c  da 10 c4       385    402 	JP	C,C40D
c31f  f1             386    403 	POP	AF
c320  da b8 c3       387    404 	JP	C,C3B5
c323  cd 09 c6       388    405 C320:	CALL	C604
c326  21 00 01       389    406 	LD	HL,100H
c329  22 7b 00       390    407 	LD	(7BH),HL
c32c  cd d9 cd       391    408 	CALL	CDCB
c32f  cd 60 cd       392    409 	CALL	CD52
c332  f5             393    410 	PUSH	AF
c333  cd 23 c6       394    411 	CALL	C61E
c336  f1             395    412 	POP	AF
c337  30 2d          396    413 	JR	NC,C363
c339  3a 71 00       397    414 	LD	A,(71H)
c33c  b7             398    415 	OR	A
c33d  f2 48 c3       399    416 	JP	P,C345
c340  21 64 00       400    417 	LD	HL,64H
c343  cd ff cf       401    418 	CALL	dela1
c346  18 db          402    419 	JR	C320
                     403    420 ;
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 8
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c348  cd 0b c8       404    421 C345:	CALL	ptfol
c34b  43 61 6e 27    405    422 	DEFB    'Can',squote
c34f  74 20 72 65    406    423 	DEFB	't read Label',CR+msbon
c353  61 64 20 4c    406    424
c357  61 62 65 6c    406    425
c35b  8d             406    426
c35c  1e 01          407    427 C359:	LD	E,1
c35e  cd f7 c5       408    428 	CALL	C5F2
c361  cd 16 c4       409    429 	CALL	C413
c364  af             410    430 	XOR	A
c365  c9             411    431 	RET
                     412    432 ;
c366  01 10 00       413    433 C363:	LD	BC,10H
c369  11 7a 01       414    434 	LD	DE,17AH
c36c  cd f1 c3       415    435 	CALL	C3EE
c36f  0e 01          416    436 	LD	C,1
c371  cd f1 c3       417    437 	CALL	C3EE
c374  3a 78 01       418    438 	LD	A,(178H)
c377  fe 43          419    439 	CP	'C'
c379  20 02          420    440 	JR	NZ,C37A
c37b  cb c8          421    441 	SET	1,B
c37d  3a 7e 00       422    442 C37A:	LD	A,(7EH)
c380  e6 cc          423    443 	AND	0CCH
c382  b0             424    444 	OR	B
c383  2a 6a 00       425    445 	LD	HL,(6AH)
c386  77             426    446 	LD	(HL),A
c387  cd f9 c3       427    447 C384:	CALL	C3F6
c38a  32 7e 00       428    448 C387:	LD	(7EH),A
c38d  cb 47          429    449 	BIT	0,A
c38f  11 0a 10       430    450 	LD	DE,100AH
c392  21 00 02       431    451 	LD	HL,200H
c395  20 0d          432    452 	JR	NZ,C3A1
c397  cb 4f          433    453 	BIT	1,A
c399  11 05 08       434    454 	LD	DE,805H
c39c  20 06          435    455 	JR	NZ,C3A1
c39e  11 12 1a       436    456 C39B:	LD	DE,1A12H
c3a1  21 80 00       437    457 	LD	HL,80H
c3a4  22 79 00       438    458 C3A1:	LD	(79H),HL
c3a7  cb 7f          439    459 	BIT	7,A
c3a9  3e 4c          440    460 	LD	A,'L'
c3ab  42             441    461 	LD	B,D
c3ac  28 03          442    462 	JR	Z,C3AE
c3ae  3e 27          443    463 	LD	A,squote
c3b0  43             444    464 	LD	B,E
c3b1  32 6f 00       445    465 C3AE:	LD	(6FH),A
c3b4  78             446    466 	LD	A,B
c3b5  32 6e 00       447    467 	LD	(6EH),A
c3b8  af             448    468 C3B5:	XOR	A
c3b9  c9             449    469 	RET
                     450    470 ;
c3ba  cd 19 c8       451    471 C3B7:	CALL	loctok
c3bd  b7             452    472 	OR	A
c3be  c8             453    473 	RET	Z
c3bf  01 10 00       454    474 	LD	BC,10H
c3c2  cd e1 c3       455    475 	CALL	C3DE
c3c5  0e 01          456    476 	LD	C,1
c3c7  cd e1 c3       457    477 	CALL	C3DE
c3ca  cd 19 c8       458    478 	CALL	loctok
c3cd  fe 43          459    479 	CP	'C'
c3cf  20 06          460    480 	JR	NZ,C3D4
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 9
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c3d1  cb c8          461    481 	SET	1,B
c3d3  13             462    482 	INC	DE
c3d4  cd 19 c8       463    483 	CALL	loctok
c3d7  b7             464    484 C3D4:	OR	A
c3d8  c2 bc c1       465    485 	JP	NZ,C1B9
c3db  78             466    486 	LD	A,B
c3dc  32 6d 00       467    487 	LD	(6DH),A
c3df  37             468    488 	SCF
c3e0  c9             469    489 	RET
                     470    490 ;
c3e1  cd 19 c8       471    491 C3DE:	CALL	loctok
c3e4  13             472    492 	INC	DE
c3e5  fe 53          473    493 	CP	'S'
c3e7  c8             474    494 	RET	Z
c3e8  fe 44          475    495 	CP	'D'
c3ea  c2 bc c1       476    496 	JP	NZ,C1B9
c3ed  78             477    497 C3EA:	LD	A,B
c3ee  b1             478    498 	OR	C
c3ef  47             479    499 	LD	B,A
c3f0  c9             480    500 	RET
                     481    501 ;
c3f1  1a             482    502 C3EE:	LD	A,(DE)
c3f2  13             483    503 	INC	DE
c3f3  13             484    504 	INC	DE
c3f4  fe 44          485    505 	CP	'D'
c3f6  c0             486    506 	RET	NZ
c3f7  18 f4          487    507 	JR	C3EA
                     488    508 ;
c3f9  3a 6c 00       489    509 C3F6:	LD	A,(6CH)
c3fc  d6 41          490    510 	SUB	'A'
c3fe  32 77 00       491    511 	LD	(77H),A
c401  21 66 00       492    512 	LD	HL,66H
c404  cd 89 c1       493    513 	CALL	C186
c407  22 6a 00       494    514 	LD	(6AH),HL
c40a  7e             495    515 	LD	A,(HL)
c40b  b7             496    516 	OR	A
c40c  c9             497    517 	RET
                     498    518 ;
c40d  cd f7 c5       499    519 C40A:	CALL	C5F2
c410  cd 16 c4       500    520 C40D:	CALL	C413
c413  c3 57 c1       501    521 	JP	inlp
                     502    522 ;
c416  cd 0b c8       503    523 C413:	CALL	ptfol
c419  20 45 72 72    504    524 	DEFB    ' Err','-'+msbon
c41d  2d 80          504    525
c41f  3a 70 00       505    526 	LD	A,(70H)
c422  cd 03 c8       506    527 	CALL	pt7ba
c425  3a 71 00       507    528 	LD	A,(71H)
c428  cd e0 c7       508    529 	CALL	pspa
c42b  c3 a5 cc       509    530 	JP	crlf
                     510    531 ;
c42e  cd 0b c8       511    532 C42A:	CALL	ptfol
c431  41 2d 44 20    512    533 	DEFB    'A-D only',CR+msbon
c435  6f 6e 6c 79    512    534
c439  8d             512    535
c43a  c3 57 c1       513    536 	JP	inlp
                     514    537 ;
c43d  cd 2c c8       515    538 C439:	CALL	fndeol
c440  3a 77 00       516    539 	LD	A,(77H)
c443  f5             517    540 	PUSH	AF
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 10
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c444  3a 6c 00       518    541 	LD	A,(6CH)
c447  f5             519    542 	PUSH	AF
c448  3e 41          520    543 	LD	A,'A'
c44a  f5             521    544 C446:	PUSH	AF
c44b  32 6c 00       522    545 	LD	(6CH),A
c44e  cd f9 c3       523    546 	CALL	C3F6
c451  2a 6a 00       524    547 	LD	HL,(6AH)
c454  46             525    548 	LD	B,(HL)
c455  c4 67 c4       526    549 	CALL	NZ,C463
c458  f1             527    550 	POP	AF
c459  3c             528    551 	INC	A
c45a  fe 45          529    552 	CP	'E'
c45c  38 ec          530    553 	JR	C,C446
c45e  f1             531    554 	POP	AF
c45f  32 6c 00       532    555 	LD	(6CH),A
c462  f1             533    556 	POP	AF
c463  32 77 00       534    557 	LD	(77H),A
c466  c9             535    558 	RET
                     536    559 ;
c467  cd 0b c8       537    560 C463:	CALL	ptfol
c46a  20 a0          538    561 	DEFB	' ',SPACE+msbon
c46c  cd e5 c1       539    562 	CALL	C1E2
c46f  cd 0b c8       540    563 	CALL	ptfol
c472  3b a0          541    564 	DEFB	';',SPACE+msbon
c474  cb 58          542    565 	BIT	3,B
c476  c4 01 c8       543    566 	CALL	NZ,ptspc
c479  cb 78          544    567 	BIT	7,B
c47b  cc 01 c8       545    568 	CALL	Z,ptspc
c47e  cb 60          546    569 	BIT	4,B
c480  cd 9d c4       547    570 	CALL	C498
c483  cd 01 c8       548    571 	CALL	ptspc
c486  cb 40          549    572 	BIT	0,B
c488  cd 9d c4       550    573 	CALL	C498
c48b  cb 48          551    574 	BIT	1,B
c48d  28 0b          552    575 	JR	Z,C495
c48f  cd 0b c8       553    576 	CALL	ptfol
c492  20 43 72 6f    554    577 	DEFB	' Cromi','x'+msbon
c496  6d 69 78 80    554    578
c49a  c3 a5 cc       555    579 C495:	JP	crlf
                     556    580 ;
c49d  3e 44          557    581 C498:	LD	A,'D'
c49f  20 02          558    582 	JR	NZ,C49E
c4a1  3e 53          559    583 	LD	A,'S'
c4a3  c3 03 c8       560    584 C49E:	JP	pt7ba
c4a6  47             561    585 C4A1:	LD	B,A
c4a7  3a 6c 00       562    586 	LD	A,(6CH)
c4aa  b7             563    587 	OR	A
c4ab  ca c0 c1       564    588 	JP	Z,inper
c4ae  78             565    589 	LD	A,B
c4af  fe 53          566    590 	CP	'S'
c4b1  28 2c          567    591 	JR	Z,C4DA
c4b3  cd b5 c8       568    592 	CALL	C8B0
c4b6  da c0 c1       569    593 C4B1:	JP	C,inper
c4b9  e5             570    594 	PUSH	HL
c4ba  cd e6 c4       571    595 	CALL	C4E1
c4bd  3e 53          572    596 	LD	A,'S'
c4bf  32 70 00       573    597 	LD	(70H),A
c4c2  e1             574    598 	POP	HL
c4c3  af             575    599 	XOR	A
c4c4  b4             576    600 	OR	H
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 11
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c4c5  c2 c0 c1       577    601 	JP	NZ,inper
c4c8  3a 6f 00       578    602 	LD	A,(6FH)
c4cb  bd             579    603 	CP	L
c4cc  38 e8          580    604 	JR	C,C4B1
c4ce  7d             581    605 	LD	A,L
c4cf  32 75 00       582    606 	LD	(75H),A
c4d2  cd d9 c4       583    607 	CALL	C4D4
c4d5  d0             584    608 	RET	NC
c4d6  c3 10 c4       585    609 	JP	C40D
                     586    610 ;
c4d9  cd fd c5       587    611 C4D4:	CALL	C5F8
c4dc  c3 d9 cd       588    612 	JP	CDCB
                     589    613 ;
c4df  13             590    614 C4DA:	INC	DE
c4e0  cd e6 c4       591    615 	CALL	C4E1
c4e3  c3 d9 cd       592    616 	JP	CDCB
                     593    617 ;
c4e6  3a 75 00       594    618 C4E1:	LD	A,(75H)
c4e9  32 7d 00       595    619 	LD	(7DH),A
c4ec  cd b2 c8       596    620 	CALL	C8AD
c4ef  d8             597    621 	RET	C
c4f0  af             598    622 	XOR	A
c4f1  b4             599    623 	OR	H
c4f2  c2 c0 c1       600    624 C4ED:	JP	NZ,inper
c4f5  7d             601    625 	LD	A,L
c4f6  b7             602    626 	OR	A
c4f7  20 04          603    627 	JR	NZ,C4F8
c4f9  32 78 00       604    628 	LD	(78H),A
c4fc  c9             605    629 	RET
                     606    630 ;
c4fd  3d             607    631 C4F8:	DEC	A
c4fe  20 f2          608    632 	JR	NZ,C4ED
c500  cd f9 c3       609    633 	CALL	C3F6
c503  cb 67          610    634 	BIT	4,A
c505  28 06          611    635 	JR	Z,C508
c507  3e 01          612    636 	LD	A,1
c509  32 78 00       613    637 C504:	LD	(78H),A
c50c  c9             614    638 	RET
                     615    639 ;
c50d  cd 0b c8       616    640 C508:	CALL	ptfol
c510  53 2e 53 69    617    641 	DEFB	'S.Sided',CR+msbon
c514  64 65 64 8d    617    642
c518  c3 57 c1       618    643 	JP	inlp
                     619    644 ;
c51b  06 52          620    645 C516:	LD	B,'R'
c51d  18 02          621    646 	JR	C51C
                     622    647 ;
c51f  06 57          623    648 C51A:	LD	B,'W'
c521  1a             624    649 C51C:	LD	A,(DE)
c522  fe 44          625    650 	CP	'D'
c524  c2 c0 c1       626    651 	JP	NZ,inper
c527  78             627    652 	LD	A,B
c528  32 70 00       628    653 	LD	(70H),A
c52b  cd c0 c5       629    654 	CALL	C5BB
c52e  e5             630    655 	PUSH	HL
c52f  fd e1          631    656 	POP	IY
c531  60             632    657 	LD	H,B
c532  69             633    658 	LD	L,C
c533  d5             634    659 C52E:	PUSH	DE
c534  e5             635    660 	PUSH	HL
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 12
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c535  7b             636    661 	LD	A,E
c536  32 76 00       637    662 	LD	(76H),A
c539  fd 22 7b 00    638    663 	LD	(7BH),IY
c53d  cd d9 c4       639    664 	CALL	C4D4
c540  3a 70 00       640    665 	LD	A,(70H)
c543  fe 57          641    666 	CP	'W'
c545  37             642    667 	SCF
c546  3f             643    668 	CCF
c547  cc b0 c5       644    669 	CALL	Z,C5AB
c54a  38 08          645    670 	JR	C,C54F
c54c  3a 70 00       646    671 	LD	A,(70H)
c54f  fe 52          647    672 	CP	'R'
c551  cc 60 cd       648    673 	CALL	Z,CD52
c554  e1             649    674 C54F:	POP	HL
c555  d1             650    675 	POP	DE
c556  da 0d c4       651    676 	JP	C,C40A
c559  ed 4b 79 00    652    677 	LD	BC,(79H)
c55d  fd 09          653    678 	ADD	IY,BC
c55f  03             654    679 	INC	BC
c560  ed 42          655    680 	SBC	HL,BC
c562  23             656    681 	INC	HL
c563  da f7 c5       657    682 	JP	C,C5F2
c566  1c             658    683 	INC	E
c567  3a 6e 00       659    684 	LD	A,(6EH)
c56a  bb             660    685 	CP	E
c56b  30 c6          661    686 	JR	NC,C52E
c56d  3a 75 00       662    687 	LD	A,(75H)
c570  32 7d 00       663    688 	LD	(7DH),A
c573  3c             664    689 	INC	A
c574  47             665    690 	LD	B,A
c575  3a 6f 00       666    691 	LD	A,(6FH)
c578  b8             667    692 	CP	B
c579  38 08          668    693 	JR	C,C57E
c57b  78             669    694 	LD	A,B
c57c  32 75 00       670    695 	LD	(75H),A
c57f  1e 01          671    696 	LD	E,1
c581  18 b0          672    697 	JR	C52E
                     673    698 ;
c583  1d             674    699 C57E:	DEC	E
c584  cd f7 c5       675    700 	CALL	C5F2
c587  cd 0b c8       676    701 	CALL	ptfol
c58a  4e 65 78 74    677    702 	DEFB	'Next memory:',SPACE+msbon
c58e  20 6d 65 6d    677    703
c592  6f 72 79 3a    677    704
c596  a0             677    705
c597  fd e5          678    706 	PUSH	IY
c599  e1             679    707 	POP	HL
c59a  cd e7 c7       680    708 	CALL	hxphl
c59d  cd 0b c8       681    709 	CALL	ptfol
c5a0  0d 45 6e 64    682    710 	DEFB	CR,'End of Disk',CR+msbon
c5a4  20 6f 66 20    682    711
c5a8  44 69 73 6b    682    712
c5ac  8d             682    713
c5ad  c3 57 c1       683    714 	JP	inlp
                     684    715 ;
c5b0  21 7e 00       685    716 C5AB:	LD	HL,7EH
c5b3  46             686    717 	LD	B,(HL)
c5b4  c5             687    718 	PUSH	BC
c5b5  cb ce          688    719 	SET	1,(HL)
c5b7  cd 6d cd       689    720 	CALL	CD5F
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 13
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c5ba  c1             690    721 	POP	BC
c5bb  78             691    722 	LD	A,B
c5bc  32 7e 00       692    723 	LD	(7EH),A
c5bf  c9             693    724 	RET
                     694    725 ;
c5c0  3a 6c 00       695    726 C5BB:	LD	A,(6CH)
c5c3  b7             696    727 	OR	A
c5c4  ca c0 c1       697    728 	JP	Z,inper
c5c7  13             698    729 	INC	DE
c5c8  cd 34 c8       699    730 	CALL	C82F
c5cb  af             700    731 	XOR	A
c5cc  b2             701    732 	OR	D
c5cd  c2 c0 c1       702    733 C5C8:	JP	NZ,inper
c5d0  b3             703    734 	OR	E
c5d1  ca c0 c1       704    735 	JP	Z,inper
c5d4  c5             705    736 	PUSH	BC
c5d5  d5             706    737 	PUSH	DE
c5d6  e5             707    738 	PUSH	HL
c5d7  cd fd c5       708    739 	CALL	C5F8
c5da  e1             709    740 	POP	HL
c5db  d1             710    741 	POP	DE
c5dc  c1             711    742 	POP	BC
c5dd  3a 6e 00       712    743 	LD	A,(6EH)
c5e0  bb             713    744 	CP	E
c5e1  38 ea          714    745 	JR	C,C5C8
c5e3  db 31          715    746 C5DE:	IN	A,(31H)
c5e5  57             716    747 	LD	D,A
c5e6  eb             717    748 	EX	DE,HL
c5e7  cd 01 c8       718    749 	CALL	ptspc
c5ea  cd e7 c7       719    750 	CALL	hxphl
c5ed  eb             720    751 	EX	DE,HL
c5ee  cd 01 c8       721    752 	CALL	ptspc
c5f1  3a 78 00       722    753 	LD	A,(78H)
c5f4  c3 f5 c7       723    754 	JP	ptchr
                     724    755 ;
c5f7  cd e3 c5       725    756 C5F2:	CALL	C5DE
c5fa  c3 a5 cc       726    757 	JP	crlf
                     727    758 ;
c5fd  3a 75 00       728    759 C5F8:	LD	A,(75H)
c600  b7             729    760 	OR	A
c601  20 20          730    761 	JR	NZ,C61E
c603  3a 78 00       731    762 	LD	A,(78H)
c606  b7             732    763 	OR	A
c607  20 1a          733    764 	JR	NZ,C61E
c609  3a 7e 00       734    765 C604:	LD	A,(7EH)
c60c  cb 6f          735    766 	BIT	5,A
c60e  c0             736    767 	RET	NZ
c60f  cb 4f          737    768 	BIT	1,A
c611  20 03          738    769 	JR	NZ,C611
c613  cb 47          739    770 	BIT	0,A
c615  c8             740    771 	RET	Z
c616  32 7f 00       741    772 C611:	LD	(7FH),A
c619  cb ef          742    773 	SET	5,A
c61b  cb 87          743    774 	RES	0,A
c61d  32 7e 00       744    775 	LD	(7EH),A
c620  c3 9e c3       745    776 	JP	C39B
                     746    777 ;
c623  3a 7e 00       747    778 C61E:	LD	A,(7EH)
c626  cb 6f          748    779 	BIT	5,A
c628  c8             749    780 	RET	Z
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 14
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c629  3a 7f 00       750    781 	LD	A,(7FH)
c62c  c3 8a c3       751    782 	JP	C387
                     752    783 ;
c62f  cd 58 c8       753    784 C62A:	CALL	C853
c632  4d             754    785 	LD	C,L
c633  ed 78          755    786 	IN	A,(C)
c635  cd ec c7       756    787 	CALL	hxpa
c638  c3 a5 cc       757    788 	JP	crlf
                     758    789 ;
c63b  cd b2 c8       759    790 C636:	CALL	C8AD
c63e  e5             760    791 	PUSH	HL
c63f  cd 20 c8       761    792 	CALL	rmcom
c642  cd 58 c8       762    793 	CALL	C853
c645  d1             763    794 	POP	DE
c646  4d             764    795 	LD	C,L
c647  ed 59          765    796 	OUT	(C),E
c649  c9             766    797 	RET
                     767    798 ;
c64a  cd 34 c8       768    799 C645:	CALL	C82F
c64d  c5             769    800 	PUSH	BC
c64e  d5             770    801 	PUSH	DE
c64f  e5             771    802 	PUSH	HL
c650  ed b0          772    803 	LDIR
c652  e1             773    804 	POP	HL
c653  d1             774    805 	POP	DE
c654  c1             775    806 	POP	BC
c655  18 03          776    807 	JR	C655
                     777    808 ;
c657  cd 34 c8       778    809 C652:	CALL	C82F
c65a  1a             779    810 C655:	LD	A,(DE)
c65b  be             780    811 	CP	(HL)
c65c  28 19          781    812 	JR	Z,C672
c65e  cd e7 c7       782    813 	CALL	hxphl
c661  7e             783    814 	LD	A,(HL)
c662  cd e0 c7       784    815 	CALL	pspa
c665  cd 01 c8       785    816 	CALL	ptspc
c668  1a             786    817 	LD	A,(DE)
c669  cd e0 c7       787    818 	CALL	pspa
c66c  cd 01 c8       788    819 	CALL	ptspc
c66f  eb             789    820 	EX	DE,HL
c670  cd e7 c7       790    821 	CALL	hxphl
c673  eb             791    822 	EX	DE,HL
c674  cd a5 cc       792    823 	CALL	crlf
c677  13             793    824 C672:	INC	DE
c678  23             794    825 	INC	HL
c679  0b             795    826 	DEC	BC
c67a  78             796    827 	LD	A,B
c67b  b1             797    828 	OR	C
c67c  20 dc          798    829 	JR	NZ,C655
c67e  c9             799    830 	RET
                     800    831 ;
c67f  cd 19 c8       801    832 C67A:	CALL	loctok
c682  fe 4d          802    833 	CP	'M'
c684  c2 a6 c4       803    834 	JP	NZ,C4A1
c687  13             804    835 	INC	DE
c688  2a 64 00       805    836 	LD	HL,(64H)
c68b  cd 60 c8       806    837 	CALL	C85B
c68e  cd e7 c7       807    838 C689:	CALL	hxphl
c691  7e             808    839 	LD	A,(HL)
c692  cd e0 c7       809    840 	CALL	pspa
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 15
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c695  cd 01 c8       810    841 	CALL	ptspc
c698  cd a8 c7       811    842 	CALL	C7A3
c69b  cd 19 c8       812    843 	CALL	loctok
c69e  fe 2e          813    844 	CP	'.'
c6a0  c8             814    845 	RET	Z
c6a1  fe 2d          815    846 	CP	'-'
c6a3  20 03          816    847 	JR	NZ,C6A3
c6a5  2b             817    848 	DEC	HL
c6a6  18 1a          818    849 	JR	C6BD
                     819    850 ;
c6a8  cd f6 c6       820    851 C6A3:	CALL	C6F1
c6ab  30 07          821    852 	JR	NC,C6AF
c6ad  cd 0b c8       822    853 	CALL	ptfol
c6b0  3f 8d          823    854 	DEFB	'?',CR+msbon
c6b2  18 da          824    855 	JR	C689
                     825    856 ;
c6b4  af             826    857 C6AF:	XOR	A
c6b5  80             827    858 	ADD	A,B
c6b6  20 03          828    859 	JR	NZ,C6B6
c6b8  23             829    860 	INC	HL
c6b9  18 07          830    861 	JR	C6BD
                     831    862 ;
c6bb  48             832    863 C6B6:	LD	C,B
c6bc  06 00          833    864 	LD	B,0
c6be  eb             834    865 	EX	DE,HL
c6bf  ed b0          835    866 	LDIR
c6c1  eb             836    867 	EX	DE,HL
c6c2  22 64 00       837    868 C6BD:	LD	(64H),HL
c6c5  18 c7          838    869 	JR	C689
                     839    870 ;
c6c7  cd 6a c8       840    871 C6C2:	CALL	C865
c6ca  c5             841    872 	PUSH	BC
c6cb  cd f6 c6       842    873 	CALL	C6F1
c6ce  d1             843    874 	POP	DE
c6cf  da c0 c1       844    875 	JP	C,inper
c6d2  af             845    876 	XOR	A
c6d3  80             846    877 	ADD	A,B
c6d4  ca c0 c1       847    878 	JP	Z,inper
c6d7  c5             848    879 C6D2:	PUSH	BC
c6d8  d5             849    880 	PUSH	DE
c6d9  e5             850    881 	PUSH	HL
c6da  11 2e 00       851    882 	LD	DE,2EH
c6dd  1a             852    883 C6D8:	LD	A,(DE)
c6de  be             853    884 	CP	(HL)
c6df  20 04          854    885 	JR	NZ,C6E0
c6e1  13             855    886 	INC	DE
c6e2  23             856    887 	INC	HL
c6e3  10 f8          857    888 	DJNZ	C6D8
c6e5  e1             858    889 C6E0:	POP	HL
c6e6  e5             859    890 	PUSH	HL
c6e7  06 10          860    891 	LD	B,10H
c6e9  cc 65 c7       861    892 	CALL	Z,C760
c6ec  e1             862    893 	POP	HL
c6ed  d1             863    894 	POP	DE
c6ee  c1             864    895 	POP	BC
c6ef  23             865    896 	INC	HL
c6f0  1b             866    897 	DEC	DE
c6f1  7a             867    898 	LD	A,D
c6f2  b3             868    899 	OR	E
c6f3  20 e2          869    900 	JR	NZ,C6D2
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 16
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c6f5  c9             870    901 	RET
                     871    902 ;
c6f6  e5             872    903 C6F1:	PUSH	HL
c6f7  06 00          873    904 	LD	B,0
c6f9  21 2e 00       874    905 	LD	HL,2EH
c6fc  cd 19 c8       875    906 C6F7:	CALL	loctok
c6ff  b7             876    907 	OR	A
c700  28 29          877    908 	JR	Z,C726
c702  fe 2c          878    909 	CP	','
c704  13             879    910 	INC	DE
c705  28 f5          880    911 	JR	Z,C6F7
c707  4f             881    912 	LD	C,A
c708  fe 27          882    913 	CP	squote
c70a  28 12          883    914 	JR	Z,C719
c70c  fe 22          884    915 	CP	'"'
c70e  28 0e          885    916 	JR	Z,C719
c710  1b             886    917 	DEC	DE
c711  e5             887    918 	PUSH	HL
c712  cd b2 c8       888    919 	CALL	C8AD
c715  7d             889    920 	LD	A,L
c716  e1             890    921 	POP	HL
c717  38 12          891    922 	JR	C,C726
c719  77             892    923 	LD	(HL),A
c71a  23             893    924 	INC	HL
c71b  04             894    925 	INC	B
c71c  18 de          895    926 	JR	C6F7
c71e  1a             896    927 C719:	LD	A,(DE)
c71f  13             897    928 	INC	DE
c720  b7             898    929 	OR	A
c721  28 08          899    930 	JR	Z,C726
c723  b9             900    931 	CP	C
c724  28 d6          901    932 	JR	Z,C6F7
c726  77             902    933 	LD	(HL),A
c727  23             903    934 	INC	HL
c728  04             904    935 	INC	B
c729  18 f3          905    936 	JR	C719
                     906    937 ;
c72b  11 2e 00       907    938 C726:	LD	DE,2EH
c72e  e1             908    939 	POP	HL
c72f  c9             909    940 	RET
                     910    941 ;
c730  cd 19 c8       911    942 C72B:	CALL	loctok
c733  fe 4d          912    943 	CP	'M'
c735  20 01          913    944 	JR	NZ,C733
c737  13             914    945 	INC	DE
c738  01 80 00       915    946 C733:	LD	BC,80H
c73b  2a 62 00       916    947 	LD	HL,(62H)
c73e  cd 53 c8       917    948 	CALL	C84E
c741  1e 10          918    949 C73C:	LD	E,10H
c743  af             919    950 	XOR	A
c744  b0             920    951 	OR	B
c745  20 0a          921    952 	JR	NZ,C74C
c747  3e 0f          922    953 	LD	A,0FH
c749  b9             923    954 	CP	C
c74a  38 05          924    955 	JR	C,C74C
c74c  af             925    956 	XOR	A
c74d  b1             926    957 	OR	C
c74e  28 01          927    958 	JR	Z,C74C
c750  59             928    959 	LD	E,C
c751  c5             929    960 C74C:	PUSH	BC
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 17
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c752  43             930    961 	LD	B,E
c753  cd 65 c7       931    962 	CALL	C760
c756  22 62 00       932    963 	LD	(62H),HL
c759  c1             933    964 	POP	BC
c75a  79             934    965 	LD	A,C
c75b  93             935    966 	SUB	E
c75c  4f             936    967 	LD	C,A
c75d  30 01          937    968 	JR	NC,C75B
c75f  05             938    969 	DEC	B
c760  78             939    970 C75B:	LD	A,B
c761  b1             940    971 	OR	C
c762  20 dd          941    972 	JR	NZ,C73C
c764  c9             942    973 	RET
                     943    974 ;
c765  cd e7 c7       944    975 C760:	CALL	hxphl
c768  c5             945    976 	PUSH	BC
c769  e5             946    977 	PUSH	HL
c76a  d5             947    978 	PUSH	DE
c76b  0e 00          948    979 	LD	C,0
c76d  1e 04          949    980 	LD	E,4
c76f  3e 03          950    981 C76A:	LD	A,3
c771  a1             951    982 	AND	C
c772  cc a5 c7       952    983 	CALL	Z,C7A0
c775  cd a5 c7       953    984 	CALL	C7A0
c778  7e             954    985 	LD	A,(HL)
c779  cd ec c7       955    986 	CALL	hxpa
c77c  1c             956    987 	INC	E
c77d  1c             957    988 	INC	E
c77e  23             958    989 	INC	HL
c77f  0c             959    990 	INC	C
c780  10 ed          960    991 	DJNZ	C76A
c782  cd a5 c7       961    992 C77D:	CALL	C7A0
c785  3e 3a          962    993 	LD	A,':'
c787  bb             963    994 	CP	E
c788  20 f8          964    995 	JR	NZ,C77D
c78a  d1             965    996 	POP	DE
c78b  e1             966    997 	POP	HL
c78c  c1             967    998 	POP	BC
c78d  7e             968    999 C788:	LD	A,(HL)
c78e  23             969   1000 	INC	HL
c78f  cd 97 c7       970   1001 	CALL	C792
c792  10 f9          971   1002 	DJNZ	C788
c794  c3 a5 cc       972   1003 	JP	crlf
                     973   1004 ;
c797  e6 7f          974   1005 C792:	AND	7FH
c799  fe 7f          975   1006 	CP	7FH
c79b  28 04          976   1007 	JR	Z,C79C
c79d  fe 20          977   1008 	CP	' '
c79f  30 62          978   1009 	JR	NC,pt7ba
c7a1  3e 2e          979   1010 C79C:	LD	A,'.'
c7a3  18 5e          980   1011 	JR	pt7ba
c7a5  1c             981   1012 C7A0:	INC	E
c7a6  18 59          982   1013 	JR	ptspc
c7a8  3e 31          983   1014 C7A3:	LD	A,'1'
c7aa  11 2e 00       984   1015 	LD	DE,2EH
c7ad  12             985   1016 	LD	(DE),A
c7ae  d5             986   1017 	PUSH	DE
c7af  cd f7 cb       987   1018 	CALL	CBEA
c7b2  e3             988   1019 	EX	(SP),HL
c7b3  23             989   1020 	INC	HL
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 18
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c7b4  46             990   1021 	LD	B,(HL)
c7b5  04             991   1022 	INC	B
c7b6  23             992   1023 	INC	HL
c7b7  e5             993   1024 	PUSH	HL
c7b8  05             994   1025 C7B3:	DEC	B
c7b9  28 17          995   1026 	JR	Z,C7CD
c7bb  7e             996   1027 	LD	A,(HL)
c7bc  cd d7 c7       997   1028 	CALL	lc2uc
c7bf  77             998   1029 	LD	(HL),A
c7c0  23             999   1030 	INC	HL
c7c1  fe 22         1000   1031 	CP	'"'
c7c3  28 04         1001   1032 	JR	Z,C7C4
c7c5  fe 27         1002   1033 	CP	squote
c7c7  20 ef         1003   1034 	JR	NZ,C7B3
c7c9  05            1004   1035 C7C4:	DEC	B
c7ca  28 06         1005   1036 	JR	Z,C7CD
c7cc  be            1006   1037 	CP	(HL)
c7cd  23            1007   1038 	INC	HL
c7ce  20 f9         1008   1039 	JR	NZ,C7C4
c7d0  18 e6         1009   1040 	JR	C7B3
                    1010   1041 ;
c7d2  36 00         1011   1042 C7CD:	LD	(HL),0
c7d4  d1            1012   1043 	POP	DE
c7d5  e1            1013   1044 	POP	HL
c7d6  c9            1014   1045 	RET
                    1015   1046 ;
c7d7  fe 61         1016   1047 lc2uc:	CP	'a'	;switch low. case to u.c.
c7d9  d8            1017   1048 	RET	C
c7da  fe 7b         1018   1049 	CP	'z'+1
c7dc  d0            1019   1050 	RET	NC
c7dd  d6 20         1020   1051 	SUB	' '
c7df  c9            1021   1052 	RET
                    1022   1053 ;
c7e0  f5            1023   1054 pspa:	PUSH	AF	;print space, c(A)
c7e1  cd 01 c8      1024   1055 	CALL	ptspc
c7e4  f1            1025   1056 	POP	AF
c7e5  18 05         1026   1057 	JR	hxpa
                    1027   1058 ;
c7e7  7c            1028   1059 hxphl:	LD	A,H	;hex print c(HL)
c7e8  cd ec c7      1029   1060 	CALL	hxpa
c7eb  7d            1030   1061 	LD	A,L
c7ec  f5            1031   1062 hxpa:	PUSH	AF	;hex print c(A)
c7ed  1f            1032   1063 	RRA
c7ee  1f            1033   1064 	RRA
c7ef  1f            1034   1065 	RRA
c7f0  1f            1035   1066 	RRA
c7f1  cd f5 c7      1036   1067 	CALL	ptchr
c7f4  f1            1037   1068 	POP	AF
c7f5  e6 0f         1038   1069 ptchr:	AND	0FH
c7f7  fe 0a         1039   1070 	CP	0AH
c7f9  38 02         1040   1071 	JR	C,ptnum
c7fb  c6 07         1041   1072 	ADD	A,7
c7fd  c6 30         1042   1073 ptnum:	ADD	A,'0'
c7ff  18 02         1043   1074 	JR	pt7ba
                    1044   1075 
c801  3e 20         1045   1076 ptspc:	LD	A,' '
c803  f5            1046   1077 pt7ba:	PUSH	AF	; print 7-bit char.
c804  e6 7f         1047   1078 	AND	7FH
c806  cd a7 cc      1048   1079 	CALL	CC99
c809  f1            1049   1080 	POP	AF
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 19
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c80a  c9            1050   1081 	RET
                    1051   1082 ;
c80b  e3            1052   1083 ptfol:	EX	(SP),HL	; print string
c80c  7e            1053   1084 ptchl:	LD	A,(HL)
c80d  23            1054   1085 	INC	HL
c80e  b7            1055   1086 	OR	A
c80f  28 06         1056   1087 	JR	Z,endpts
c811  cd 03 c8      1057   1088 	CALL	pt7ba
c814  f2 0c c8      1058   1089 	JP	P,ptchl
c817  e3            1059   1090 endpts:	EX	(SP),HL
c818  c9            1060   1091 	RET
                    1061   1092 ;
c819  1a            1062   1093 loctok:	LD	A,(DE)	; locate next non-blank (DE)
c81a  fe 20         1063   1094 	CP	' '
c81c  c0            1064   1095 	RET	NZ
c81d  13            1065   1096 	INC	DE
c81e  18 f9         1066   1097 	JR	loctok
                    1067   1098 ;
c820  cd 19 c8      1068   1099 rmcom:	CALL	loctok	; remove comma & spaces (DE)
c823  fe 2c         1069   1100 	CP	','
c825  c0            1070   1101 	RET	NZ
c826  13            1071   1102 	INC	DE
c827  cd 19 c8      1072   1103 	CALL	loctok
c82a  af            1073   1104 	XOR	A
c82b  c9            1074   1105 	RET
                    1075   1106 ;
c82c  cd 19 c8      1076   1107 fndeol:	CALL	loctok
c82f  b7            1077   1108 	OR	A
c830  c8            1078   1109 	RET	Z
c831  c3 c0 c1      1079   1110 	JP	inper
                    1080   1111 ;
c834  21 80 00      1081   1112 C82F:	LD	HL,80H
c837  44            1082   1113 	LD	B,H
c838  4d            1083   1114 	LD	C,L
c839  cd 6d c8      1084   1115 	CALL	C868
c83c  e5            1085   1116 	PUSH	HL
c83d  c5            1086   1117 	PUSH	BC
c83e  cd 20 c8      1087   1118 	CALL	rmcom
c841  cd b2 c8      1088   1119 	CALL	C8AD
c844  da c0 c1      1089   1120 	JP	C,inper
c847  cd 2c c8      1090   1121 	CALL	fndeol
c84a  eb            1091   1122 	EX	DE,HL
c84b  c1            1092   1123 	POP	BC
c84c  e1            1093   1124 	POP	HL
c84d  c9            1094   1125 	RET
                    1095   1126 ;
c84e  cd 6a c8      1096   1127 	CALL	C865
c851  18 d9         1097   1128 	JR	fndeol
                    1098   1129 ;
c853  cd 6d c8      1099   1130 C84E:	CALL	C868
c856  18 d4         1100   1131 	JR	fndeol
                    1101   1132 ;
c858  cd b2 c8      1102   1133 C853:	CALL	C8AD
c85b  da c0 c1      1103   1134 	JP	C,inper
c85e  18 cc         1104   1135 	JR	fndeol
                    1105   1136 ;
c860  e5            1106   1137 C85B:	PUSH	HL
c861  cd b2 c8      1107   1138 	CALL	C8AD
c864  38 01         1108   1139 	JR	C,C862
c866  e3            1109   1140 	EX	(SP),HL
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 20
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c867  e1            1110   1141 C862:	POP	HL
c868  18 c2         1111   1142 	JR	fndeol
                    1112   1143 ;
c86a  37            1113   1144 C865:	SCF
c86b  18 01         1114   1145 	JR	C869
c86d  b7            1115   1146 C868:	OR	A
c86e  08            1116   1147 C869:	EX	AF,AF'
c86f  c5            1117   1148 	PUSH	BC
c870  e5            1118   1149 	PUSH	HL
c871  cd b2 c8      1119   1150 	CALL	C8AD
c874  30 08         1120   1151 	JR	NC,C879
c876  08            1121   1152 	EX	AF,AF'
c877  da c0 c1      1122   1153 	JP	C,inper
c87a  08            1123   1154 	EX	AF,AF'
c87b  e1            1124   1155 	POP	HL
c87c  18 01         1125   1156 	JR	C87A
                    1126   1157 ;
c87e  f1            1127   1158 C879:	POP	AF
c87f  cd 8c c8      1128   1159 C87A:	CALL	C887
c882  30 06         1129   1160 	JR	NC,C885
c884  08            1130   1161 	EX	AF,AF'
c885  c1            1131   1162 	POP	BC
c886  d0            1132   1163 	RET	NC
c887  c3 c0 c1      1133   1164 	JP	inper
                    1134   1165 ;
c88a  f1            1135   1166 C885:	POP	AF
c88b  c9            1136   1167 	RET
                    1137   1168 ;
c88c  cd 20 c8      1138   1169 C887:	CALL	rmcom
c88f  1a            1139   1170 	LD	A,(DE)
c890  fe 53         1140   1171 	CP	'S'
c892  20 01         1141   1172 	JR	NZ,C890
c894  13            1142   1173 	INC	DE
c895  e5            1143   1174 C890:	PUSH	HL
c896  f5            1144   1175 	PUSH	AF
c897  cd b2 c8      1145   1176 	CALL	C8AD
c89a  38 0f         1146   1177 	JR	C,C8A6
c89c  44            1147   1178 	LD	B,H
c89d  4d            1148   1179 	LD	C,L
c89e  f1            1149   1180 	POP	AF
c89f  e1            1150   1181 	POP	HL
c8a0  28 07         1151   1182 	JR	Z,C8A4
c8a2  79            1152   1183 	LD	A,C
c8a3  95            1153   1184 	SUB	L
c8a4  4f            1154   1185 	LD	C,A
c8a5  78            1155   1186 	LD	A,B
c8a6  9c            1156   1187 	SBC	A,H
c8a7  47            1157   1188 	LD	B,A
c8a8  03            1158   1189 	INC	BC
c8a9  b7            1159   1190 C8A4:	OR	A
c8aa  c9            1160   1191 	RET
                    1161   1192 ;
c8ab  f1            1162   1193 C8A6:	POP	AF
c8ac  e1            1163   1194 	POP	HL
c8ad  ca c0 c1      1164   1195 	JP	Z,inper
c8b0  37            1165   1196 	SCF
c8b1  c9            1166   1197 	RET
                    1167   1198 ;
c8b2  cd 19 c8      1168   1199 C8AD:	CALL	loctok
c8b5  cd e5 c8      1169   1200 C8B0:	CALL	C8E0
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 21
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c8b8  d8            1170   1201 	RET	C
c8b9  d5            1171   1202 	PUSH	DE
c8ba  13            1172   1203 C8B5:	INC	DE
c8bb  cd e5 c8      1173   1204 	CALL	C8E0
c8be  30 fa         1174   1205 	JR	NC,C8B5
c8c0  d1            1175   1206 	POP	DE
c8c1  fe 2e         1176   1207 	CP	'.'
c8c3  28 05         1177   1208 	JR	Z,C8C5
c8c5  cd cf c8      1178   1209 	CALL	C8CA
c8c8  a7            1179   1210 	AND	A
c8c9  c9            1180   1211 	RET
                    1181   1212 ;
c8ca  cd f9 c8      1182   1213 C8C5:	CALL	C8F4
c8cd  a7            1183   1214 	AND	A
c8ce  c9            1184   1215 	RET
                    1185   1216 ;
c8cf  21 00 00      1186   1217 C8CA:	LD	HL,0
c8d2  cd e5 c8      1187   1218 C8CD:	CALL	C8E0
c8d5  38 09         1188   1219 	JR	C,C8DB
c8d7  29            1189   1220 	ADD	HL,HL
c8d8  29            1190   1221 	ADD	HL,HL
c8d9  29            1191   1222 	ADD	HL,HL
c8da  29            1192   1223 	ADD	HL,HL
c8db  85            1193   1224 	ADD	A,L
c8dc  6f            1194   1225 	LD	L,A
c8dd  13            1195   1226 	INC	DE
c8de  18 f2         1196   1227 	JR	C8CD
c8e0  fe 48         1197   1228 C8DB:	CP	'H'
c8e2  c0            1198   1229 	RET	NZ
c8e3  13            1199   1230 	INC	DE
c8e4  c9            1200   1231 	RET
                    1201   1232 ;
c8e5  1a            1202   1233 C8E0:	LD	A,(DE)
c8e6  fe 30         1203   1234 	CP	'0'
c8e8  d8            1204   1235 	RET	C
c8e9  fe 3a         1205   1236 	CP	':'
c8eb  38 09         1206   1237 	JR	C,C8F1
c8ed  fe 41         1207   1238 	CP	'A'
c8ef  d8            1208   1239 	RET	C
c8f0  fe 47         1209   1240 	CP	'G'
c8f2  3f            1210   1241 	CCF
c8f3  d8            1211   1242 	RET	C
c8f4  d6 07         1212   1243 	SUB	7
c8f6  d6 30         1213   1244 C8F1:	SUB	'0'
c8f8  c9            1214   1245 	RET
                    1215   1246 ;
c8f9  21 00 00      1216   1247 C8F4:	LD	HL,0
c8fc  cd 15 c9      1217   1248 C8F7:	CALL	C910
c8ff  13            1218   1249 	INC	DE
c900  38 0d         1219   1250 	JR	C,C90A
c902  c5            1220   1251 	PUSH	BC
c903  29            1221   1252 	ADD	HL,HL
c904  44            1222   1253 	LD	B,H
c905  4d            1223   1254 	LD	C,L
c906  29            1224   1255 	ADD	HL,HL
c907  29            1225   1256 	ADD	HL,HL
c908  09            1226   1257 	ADD	HL,BC
c909  c1            1227   1258 	POP	BC
c90a  cd 89 c1      1228   1259 	CALL	C186
c90d  18 ed         1229   1260 	JR	C8F7
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 22
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
                    1230   1261 ;
c90f  fe 2e         1231   1262 C90A:	CP	'.'
c911  c8            1232   1263 	RET	Z
c912  c3 c0 c1      1233   1264 	JP	inper
c915  1a            1234   1265 C910:	LD	A,(DE)
c916  fe 30         1235   1266 	CP	'0'
c918  d8            1236   1267 	RET	C
c919  fe 3a         1237   1268 	CP	':'
c91b  3f            1238   1269 	CCF
c91c  d8            1239   1270 	RET	C
c91d  d6 30         1240   1271 	SUB	'0'
c91f  c9            1241   1272 	RET
                    1242   1273 ;
c920  01 18 00      1243   1274 C91B:	LD	BC,18H
c923  11 00 01      1244   1275 	LD	DE,100H
c926  21 29 c9      1245   1276 	LD	HL,0C929H
c929  ed b0         1246   1277 	LDIR
c92b  c3 00 01      1247   1278 	JP	0100H
                    1248   1279 ;
c92e  01 00 10      1249   1280 C929:	LD	BC,1000H
c931  11 00 10      1250   1281 	LD	DE,1000H
c934  21 00 c0      1251   1282 	LD	HL,start
c937  c5            1252   1283 	PUSH	BC
c938  d5            1253   1284 	PUSH	DE
c939  e5            1254   1285 	PUSH	HL
c93a  ed b0         1255   1286 	LDIR
c93c  3e 01         1256   1287 	LD	A,1
c93e  d3 40         1257   1288 	OUT	(40H),A
c940  d1            1258   1289 	POP	DE
c941  e1            1259   1290 	POP	HL
c942  c1            1260   1291 	POP	BC
c943  ed b0         1261   1292 	LDIR
c945  c9            1262   1293 	RET
                    1263   1294 ;
c946  cd 19 c8      1264   1295 C941:	CALL	loctok	; "T"est
c949  fe 5a         1265   1296 	CP	'Z'
c94b  f5            1266   1297 	PUSH	AF
c94c  20 01         1267   1298 	JR	NZ,C94A
c94e  13            1268   1299 	INC	DE
c94f  cd 2c c8      1269   1300 C94A:	CALL	fndeol
c952  f1            1270   1301 	POP	AF
c953  c4 20 c9      1271   1302 	CALL	NZ,C91B
c956  cd 0b c8      1272   1303 	CALL	ptfol
c959  0d 4d 65 6d   1273   1304 	DEFB	CR,'Memory',':'+msbon
c95d  6f 72 79 3a   1273   1305
c961  80            1273   1306
c962  01 00 10      1274   1307 	LD	BC,1000H
c965  cd 01 c8      1275   1308 C95F:	CALL	ptspc
c968  79            1276   1309 	LD	A,C
c969  cd f5 c7      1277   1310 	CALL	ptchr
c96c  0c            1278   1311 	INC	C
c96d  10 f6         1279   1312 	DJNZ	C95F
c96f  cd a5 cc      1280   1313 	CALL	crlf
c972  06 07         1281   1314 	LD	B,7
c974  cd 01 c8      1282   1315 C96E:	CALL	ptspc
c977  10 fb         1283   1316 	DJNZ	C96E
c979  60            1284   1317 	LD	H,B
c97a  68            1285   1318 	LD	L,B
c97b  cd 01 c8      1286   1319 C975:	CALL	ptspc
c97e  e5            1287   1320 	PUSH	HL
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 23
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
c97f  11 00 10      1288   1321 	LD	DE,1000H
c982  7c            1289   1322 C97C:	LD	A,H
c983  fe c9         1290   1323 	CP	0C9H
c985  20 09         1291   1324 	JR	NZ,C98A
c987  7d            1292   1325 	LD	A,L
c988  fe 8d         1293   1326 	CP	8DH
c98a  38 04         1294   1327 	JR	C,C98A
c98c  fe 9c         1295   1328 	CP	9CH
c98e  38 12         1296   1329 	JR	C,C99C
c990  46            1297   1330 C98A:	LD	B,(HL)
c991  3e 55         1298   1331 	LD	A,'U'
c993  77            1299   1332 	LD	(HL),A
c994  be            1300   1333 	CP	(HL)
c995  20 05         1301   1334 	JR	NZ,C996
c997  2f            1302   1335 	CPL
c998  77            1303   1336 	LD	(HL),A
c999  be            1304   1337 	CP	(HL)
c99a  28 05         1305   1338 	JR	Z,C99B
c99c  70            1306   1339 C996:	LD	(HL),B
c99d  3e 58         1307   1340 	LD	A,'X'
c99f  18 09         1308   1341 	JR	C9A4
                    1309   1342 ;
c9a1  70            1310   1343 C99B:	LD	(HL),B
c9a2  23            1311   1344 C99C:	INC	HL
c9a3  1b            1312   1345 	DEC	DE
c9a4  7a            1313   1346 	LD	A,D
c9a5  b3            1314   1347 	OR	E
c9a6  20 da         1315   1348 	JR	NZ,C97C
c9a8  3e 5e         1316   1349 	LD	A,'^'
c9aa  cd 03 c8      1317   1350 C9A4:	CALL	pt7ba
c9ad  e1            1318   1351 	POP	HL
c9ae  3e 10         1319   1352 	LD	A,10H
c9b0  84            1320   1353 	ADD	A,H
c9b1  67            1321   1354 	LD	H,A
c9b2  20 c7         1322   1355 	JR	NZ,C975
c9b4  cd 0b c8      1323   1356 	CALL	ptfol
c9b7  0d 53 70 65   1324   1357 	DEFB	CR,'Specify disk (eg, A; or A;; or A;;;)',SPACE+msbon
c9bb  63 69 66 79   1324   1358
c9bf  20 64 69 73   1324   1359
c9c3  6b 20 28 65   1324   1360
c9c7  67 2c 20 41   1324   1361
c9cb  3b 20 6f 72   1324   1362
c9cf  20 41 3b 3b   1324   1363
c9d3  20 6f 72 20   1324   1364
c9d7  41 3b 3b 3b   1324   1365
c9db  29 a0         1324   1366
c9dd  cd a8 c7      1325   1367 	CALL	C7A3
c9e0  cd 19 c8      1326   1368 	CALL	loctok
c9e3  b7            1327   1369 	OR	A
c9e4  ca a5 cc      1328   1370 	JP	Z,crlf
c9e7  cd c4 c2      1329   1371 	CALL	C2C1
c9ea  c2 bc c1      1330   1372 	JP	NZ,C1B9
c9ed  cd 0b c8      1331   1373 	CALL	ptfol
c9f0  53 65 65 6b   1332   1374 	DEFB	'Seek tests:',CR+msbon
c9f4  20 74 65 73   1332   1375
c9f8  74 73 3a 8d   1332   1376
c9fc  06 15         1333   1377 	LD	B,15H
c9fe  21 27 ca      1334   1378 	LD	HL,sektab
ca01  db 31         1335   1379 seklp:	IN	A,(31H)
ca03  32 7d 00      1336   1380 	LD	(7DH),A
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 24
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
ca06  7e            1337   1381 	LD	A,(HL)
ca07  c5            1338   1382 	PUSH	BC
ca08  e5            1339   1383 	PUSH	HL
ca09  fe ff         1340   1384 	CP	0FFH
ca0b  20 2f         1341   1385 	JR	NZ,CA35
ca0d  cd 0b c8      1342   1386 	CALL	ptfol
ca10  20 52 65 73   1343   1387 	DEFB	SPACE,'Restore',':'+msbon
ca14  74 6f 72 65   1343   1388
ca18  3a 80         1343   1389
ca1a  cd 09 c6      1344   1390 	CALL	C604
ca1d  cd 45 cd      1345   1391 	CALL	CD37
ca20  08            1346   1392 	EX	AF,AF'
ca21  cd 23 c6      1347   1393 	CALL	C61E
ca24  08            1348   1394 	EX	AF,AF'
ca25  18 2d         1349   1395 	JR	CA4C
                    1350   1396 ;
                    1351   1397 ; seek test targets
                    1352   1398 ;
ca27  01 02 03 04   1353   1399 sektab:	DEFB	1,2,3,4,5,0feh
ca2b  05 fe         1353   1400
ca2d  06 07 08 09   1354   1401 	DEFB	6,7,8,9,0,0feh
ca31  00 fe         1354   1402
ca33  27 00 15 00   1355   1403 	DEFB	27h,0,15h,0,1,0feh
ca37  01 fe         1355   1404
ca39  ff fe         1356   1405 	DEFB	0ffh,0feh
ca3b  27            1357   1406 	DEFB	27h
                    1358   1407 ;
ca3c  fe fe         1359   1408 CA35:	CP	0FEH
ca3e  20 06         1360   1409 	JR	NZ,CA3F
ca40  cd a5 cc      1361   1410 	CALL	crlf
ca43  b7            1362   1411 	OR	A
ca44  18 13         1363   1412 	JR	CA51
                    1364   1413 ;
ca46  32 75 00      1365   1414 CA3F:	LD	(75H),A
ca49  cd e0 c7      1366   1415 	CALL	pspa
ca4c  cd 0b c8      1367   1416 	CALL	ptfol
ca4f  3a 80         1368   1417 	DEFB	':'+msbon
ca51  cd d9 c4      1369   1418 	CALL	C4D4
ca54  f5            1370   1419 CA4C:	PUSH	AF
ca55  cd 84 cb      1371   1420 	CALL	ckcry
ca58  f1            1372   1421 	POP	AF
ca59  e1            1373   1422 CA51:	POP	HL
ca5a  c1            1374   1423 	POP	BC
ca5b  da a5 cc      1375   1424 	JP	C,crlf
ca5e  23            1376   1425 	INC	HL
ca5f  10 a0         1377   1426 	DJNZ	seklp
ca61  cd 0b c8      1378   1427 	CALL	ptfol
ca64  0d 52 65 61   1379   1428 	DEFB	CR,'Read/Write tests',CR+msbon
ca68  64 2f 57 72   1379   1429
ca6c  69 74 65 20   1379   1430
ca70  74 65 73 74   1379   1431
ca74  73 8d         1379   1432
ca76  cd 9f cb      1380   1433 	CALL	CB94
ca79  cd bd cb      1381   1434 	CALL	CBB0
ca7c  da a5 cc      1382   1435 	JP	C,crlf
ca7f  cd 0b c8      1383   1436 	CALL	ptfol
ca82  57 72 69 74   1384   1437 	DEFB	'Write test MAY DESTROY data'
ca86  65 20 74 65   1384   1438
ca8a  73 74 20 4d   1384   1439
ca8e  41 59 20 44   1384   1440
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 25
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
ca92  45 53 54 52   1384   1441
ca96  4f 59 20 64   1384   1442
ca9a  61 74 61      1384   1443
ca9d  0d 45 53 43   1385   1444 	DEFB	CR,'ESC=abort RETURN=proceed',SPACE+msbon
caa1  3d 61 62 6f   1385   1445
caa5  72 74 20 52   1385   1446
caa9  45 54 55 52   1385   1447
caad  4e 3d 70 72   1385   1448
cab1  6f 63 65 65   1385   1449
cab5  64 a0         1385   1450
cab7  cd a8 c7      1386   1451 	CALL	C7A3
caba  21 00 09      1387   1452 	LD	HL,900H
cabd  cd ae cb      1388   1453 	CALL	setpat
cac0  01 00 02      1389   1454 	LD	BC,200H
cac3  75            1390   1455 CABB:	LD	(HL),L
cac4  23            1391   1456 	INC	HL
cac5  0b            1392   1457 	DEC	BC
cac6  78            1393   1458 	LD	A,B
cac7  b1            1394   1459 	OR	C
cac8  20 f9         1395   1460 	JR	NZ,CABB
caca  cd ce cb      1396   1461 	CALL	CBC1
cacd  30 70         1397   1462 	JR	NC,CB35
cacf  cd 0b c8      1398   1463 CAC7:	CALL	ptfol
cad2  54 65 73 74   1399   1464 	DEFB	'Test failed!',CR
cad6  20 66 61 69   1399   1465
cada  6c 65 64 21   1399   1466
cade  0d            1399   1467
cadf  44 69 73 6b   1400   1468 	DEFB    'Disk data a','t'+msbon
cae3  20 64 61 74   1400   1469
cae7  61 20 61 74   1400   1470
caeb  80            1400   1471
caec  1e 01         1401   1472 	LD	E,1
caee  cd e3 c5      1402   1473 	CALL	C5DE
caf1  cd 0b c8      1403   1474 	CALL	ptfol
caf4  20 6d 61 79   1404   1475 	DEFB	' may have been destroyed'
caf8  20 68 61 76   1404   1476
cafc  65 20 62 65   1404   1477
cb00  65 6e 20 64   1404   1478
cb04  65 73 74 72   1404   1479
cb08  6f 79 65 64   1404   1480
cb0c  0d 4f 72 69   1405   1481 	DEFB	CR,'Original is located at 0D00','s'+msbon
cb10  67 69 6e 61   1405   1482
cb14  6c 20 69 73   1405   1483
cb18  20 6c 6f 63   1405   1484
cb1c  61 74 65 64   1405   1485
cb20  20 61 74 20   1405   1486
cb24  30 44 30 30   1405   1487
cb28  73 80         1405   1488
cb2a  2a 79 00      1406   1489 	LD	HL,(79H)
cb2d  cd e7 c7      1407   1490 	CALL	hxphl
cb30  cd 0b c8      1408   1491 	CALL	ptfol
cb33  20 69 6e 20   1409   1492 	DEFB	' in memory',CR+msbon
cb37  6d 65 6d 6f   1409   1493
cb3b  72 79 8d      1409   1494
cb3e  c9            1410   1495 	RET
                    1411   1496 ;
cb3f  21 00 0b      1412   1497 CB35:	LD	HL,0B00H
cb42  cd ae cb      1413   1498 	CALL	setpat
cb45  cd bd cb      1414   1499 	CALL	CBB0
cb48  38 85         1415   1500 	JR	C,CAC7
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 26
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cb4a  cd 0b c8      1416   1501 	CALL	ptfol
cb4d  50 61 74 74   1417   1502 	DEFB	'Pattern compare',SPACE+msbon
cb51  65 72 6e 20   1417   1503
cb55  63 6f 6d 70   1417   1504
cb59  61 72 65 a0   1417   1505
cb5d  ed 4b 79 00   1418   1506 	LD	BC,(79H)
cb61  11 00 09      1419   1507 	LD	DE,900H
cb64  21 00 0b      1420   1508 	LD	HL,0B00H
cb67  1a            1421   1509 CB5D:	LD	A,(DE)
cb68  be            1422   1510 	CP	(HL)
cb69  20 09         1423   1511 	JR	NZ,CB6A
cb6b  13            1424   1512 	INC	DE
cb6c  23            1425   1513 	INC	HL
cb6d  0b            1426   1514 	DEC	BC
cb6e  78            1427   1515 	LD	A,B
cb6f  b1            1428   1516 	OR	C
cb70  20 f5         1429   1517 	JR	NZ,CB5D
cb72  18 01         1430   1518 	JR	CB6B
                    1431   1519 ;
cb74  37            1432   1520 CB6A:	SCF
cb75  cd de cb      1433   1521 CB6B:	CALL	CBD1
cb78  cd 9f cb      1434   1522 	CALL	CB94
cb7b  cd ce cb      1435   1523 	CALL	CBC1
cb7e  da cf ca      1436   1524 	JP	C,CAC7
cb81  c3 a5 cc      1437   1525 	JP	crlf
                    1438   1526 ;
cb84  38 07         1439   1527 ckcry:	JR	C,ng
cb86  cd 0b c8      1440   1528 	CALL	ptfol
cb89  4f 4b 80      1441   1529 	DEFB	'O','K'+msbon
cb8c  c9            1442   1530 	RET
                    1443   1531 ;
cb8d  cd 0b c8      1444   1532 ng:	CALL	ptfol
cb90  65 72 72 6f   1445   1533 	DEFB	'error',SPACE+msbon
cb94  72 a0         1445   1534
cb96  3a 71 00      1446   1535 	LD	A,(71H)
cb99  cd ec c7      1447   1536 	CALL	hxpa
cb9c  c3 a5 cc      1448   1537 	JP	crlf
                    1449   1538 ;
cb9f  cd 0b c8      1450   1539 CB94:	CALL	ptfol
cba2  44 61 74 61   1451   1540 	DEFB	'Dat','a'+msbon
cba6  80            1451   1541
cba7  21 00 0d      1452   1542 	LD	HL,0D00H
cbaa  22 7b 00      1453   1543 CB9E:	LD	(7BH),HL
cbad  c9            1454   1544 	RET
                    1455   1545 ;
cbae  22 7b 00      1456   1546 setpat:	LD	(7BH),HL
cbb1  cd 0b c8      1457   1547 	CALL	ptfol
cbb4  50 61 74 74   1458   1548 	DEFB	'Patter','n'+msbon
cbb8  65 72 6e 80   1458   1549
cbbc  c9            1459   1550 	RET
                    1460   1551 ;
cbbd  cd e7 cb      1461   1552 CBB0:	CALL	CBDA
cbc0  cd 0b c8      1462   1553 	CALL	ptfol
cbc3  20 72 65 61   1463   1554 	DEFB	' read',SPACE+msbon
cbc7  64 a0         1463   1555
cbc9  cd 60 cd      1464   1556 	CALL	CD52
cbcc  18 10         1465   1557 	JR	CBD1
                    1466   1558 ;
cbce  cd e7 cb      1467   1559 CBC1:	CALL	CBDA
cbd1  cd 0b c8      1468   1560 	CALL	ptfol
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 27
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cbd4  20 77 72 69   1469   1561 	DEFB	' write',SPACE+msbon
cbd8  74 65 a0      1469   1562
cbdb  cd b0 c5      1470   1563 	CALL	C5AB
cbde  f5            1471   1564 CBD1:	PUSH	AF
cbdf  cd 84 cb      1472   1565 	CALL	ckcry
cbe2  cd a5 cc      1473   1566 	CALL	crlf
cbe5  f1            1474   1567 	POP	AF
cbe6  c9            1475   1568 	RET
                    1476   1569 ;
cbe7  3e 27         1477   1570 CBDA:	LD	A,squote
cbe9  32 75 00      1478   1571 	LD	(75H),A
cbec  32 7d 00      1479   1572 	LD	(7DH),A
cbef  3e 01         1480   1573 	LD	A,1
cbf1  32 76 00      1481   1574 	LD	(76H),A
cbf4  c3 d9 cd      1482   1575 	JP	CDCB
cbf7  c5            1483   1576 CBEA:	PUSH	BC
cbf8  e5            1484   1577 	PUSH	HL
cbf9  06 00         1485   1578 CBEC:	LD	B,0
cbfb  21 02 00      1486   1579 	LD	HL,2
cbfe  19            1487   1580 	ADD	HL,DE
cbff  cd 72 cc      1488   1581 CBF2:	CALL	CC64
cc02  fe 10         1489   1582 	CP	10H
cc04  cc c9 cc      1490   1583 	CALL	Z,CCBB
cc07  28 f6         1491   1584 	JR	Z,CBF2
cc09  fe 1b         1492   1585 	CP	esc
cc0b  ca 9c cc      1493   1586 	JP	Z,CC8E
cc0e  fe 08         1494   1587 	CP	8
cc10  28 04         1495   1588 	JR	Z,CC09
cc12  fe 7f         1496   1589 	CP	7FH
cc14  20 11         1497   1590 	JR	NZ,CC1A
cc16  af            1498   1591 CC09:	XOR	A
cc17  b0            1499   1592 	OR	B
cc18  28 e5         1500   1593 	JR	Z,CBF2
cc1a  2b            1501   1594 	DEC	HL
cc1b  05            1502   1595 	DEC	B
cc1c  cd 58 cc      1503   1596 	CALL	CC4B
cc1f  7e            1504   1597 	LD	A,(HL)
cc20  fe 20         1505   1598 	CP	' '
cc22  dc 58 cc      1506   1599 	CALL	C,CC4B
cc25  18 d8         1507   1600 	JR	CBF2
                    1508   1601 ;
cc27  fe 0d         1509   1602 CC1A:	CP	0DH
cc29  cc 52 cc      1510   1603 	CALL	Z,CC45
cc2c  28 1b         1511   1604 	JR	Z,CC3C
cc2e  fe 15         1512   1605 	CP	15H
cc30  20 08         1513   1606 	JR	NZ,CC2D
cc32  cd 52 cc      1514   1607 	CALL	CC45
cc35  cd a5 cc      1515   1608 	CALL	crlf
cc38  18 bf         1516   1609 	JR	CBEC
cc3a  4f            1517   1610 CC2D:	LD	C,A
cc3b  1a            1518   1611 	LD	A,(DE)
cc3c  3d            1519   1612 	DEC	A
cc3d  b8            1520   1613 	CP	B
cc3e  28 bf         1521   1614 	JR	Z,CBF2
cc40  79            1522   1615 	LD	A,C
cc41  cd 52 cc      1523   1616 	CALL	CC45
cc44  77            1524   1617 	LD	(HL),A
cc45  23            1525   1618 	INC	HL
cc46  04            1526   1619 	INC	B
cc47  18 b6         1527   1620 	JR	CBF2
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 28
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cc49  36 00         1528   1621 CC3C:	LD	(HL),0
cc4b  78            1529   1622 	LD	A,B
cc4c  13            1530   1623 	INC	DE
cc4d  12            1531   1624 	LD	(DE),A
cc4e  1b            1532   1625 	DEC	DE
cc4f  e1            1533   1626 	POP	HL
cc50  c1            1534   1627 	POP	BC
cc51  c9            1535   1628 	RET
                    1536   1629 ;
cc52  f5            1537   1630 CC45:	PUSH	AF
cc53  cd 5f cc      1538   1631 	CALL	CC52
cc56  f1            1539   1632 	POP	AF
cc57  c9            1540   1633 	RET
                    1541   1634 ;
cc58  cd 0b c8      1542   1635 CC4B:	CALL	ptfol
cc5b  08 20 88      1543   1636 	DEFB	BS,' ',BS+msbon
cc5e  c9            1544   1637 	RET
                    1545   1638 ;
cc5f  fe 20         1546   1639 CC52:	CP	' '
cc61  30 44         1547   1640 	JR	NC,CC99
cc63  fe 0d         1548   1641 	CP	0DH
cc65  28 40         1549   1642 	JR	Z,CC99
cc67  f5            1550   1643 	PUSH	AF
cc68  cd 0b c8      1551   1644 	CALL	ptfol
cc6b  5e 80         1552   1645 	DEFB	'^'+msbon
cc6d  f1            1553   1646 	POP	AF
cc6e  c6 40         1554   1647 	ADD	A,'@'
cc70  18 35         1555   1648 	JR	CC99
                    1556   1649 ;
cc72  cd 31 cd      1557   1650 CC64:	CALL	CD23
cc75  cd 84 cc      1558   1651 	CALL	ckinst
cc78  28 f8         1559   1652 	JR	Z,CC64
cc7a  cd 84 cc      1560   1653 inchr:	CALL	ckinst
cc7d  28 fb         1561   1654 	JR	Z,inchr
cc7f  db 01         1562   1655 	IN	A,(1)
cc81  e6 7f         1563   1656 	AND	7FH
cc83  c9            1564   1657 	RET
                    1565   1658 ;
cc84  db 00         1566   1659 ckinst:	IN	A,(0)
cc86  e6 40         1567   1660 	AND	'@'
cc88  c9            1568   1661 	RET
                    1569   1662 ;
cc89  cd 84 cc      1570   1663 CC7B:	CALL	ckinst
cc8c  c8            1571   1664 	RET	Z
cc8d  cd 7a cc      1572   1665 	CALL	inchr
cc90  fe 13         1573   1666 	CP	13H
cc92  cc 7a cc      1574   1667 	CALL	Z,inchr
cc95  fe 0d         1575   1668 	CP	0DH
cc97  28 03         1576   1669 	JR	Z,CC8E
cc99  fe 1b         1577   1670 	CP	ESC
cc9b  c0            1578   1671 	RET	NZ
cc9c  31 2e 00      1579   1672 CC8E:	LD	SP,2EH
cc9f  cd a5 cc      1580   1673 	CALL	crlf
cca2  c3 57 c1      1581   1674 	JP	inlp
                    1582   1675 ;
cca5  3e 0d         1583   1676 crlf:	LD	A,0DH
cca7  f5            1584   1677 CC99:	PUSH	AF
cca8  d9            1585   1678 	EXX
cca9  cb 78         1586   1679 	BIT	7,B
ccab  d9            1587   1680 	EXX
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 29
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
ccac  c4 d9 cc      1588   1681 	CALL	NZ,CCCB
ccaf  cd 31 cd      1589   1682 	CALL	CD23
ccb2  db 00         1590   1683 CCA4:	IN	A,(0)	;check cons. status
ccb4  e6 80         1591   1684 	AND	80H
ccb6  28 fa         1592   1685 	JR	Z,CCA4
ccb8  f1            1593   1686 	POP	AF
ccb9  d3 01         1594   1687 	OUT	(1),A	;print to cons.
ccbb  fe 0d         1595   1688 	CP	0DH
ccbd  c0            1596   1689 	RET	NZ
ccbe  3e 0a         1597   1690 	LD	A,0AH
ccc0  cd a7 cc      1598   1691 	CALL	CC99
ccc3  cd 89 cc      1599   1692 	CALL	CC7B
ccc6  fe 10         1600   1693 	CP	10H
ccc8  c0            1601   1694 	RET	NZ
ccc9  f5            1602   1695 CCBB:	PUSH	AF
ccca  d9            1603   1696 	EXX
cccb  3e 80         1604   1697 	LD	A,80H
cccd  a8            1605   1698 	XOR	B
ccce  47            1606   1699 	LD	B,A
cccf  cb 78         1607   1700 	BIT	7,B
ccd1  d9            1608   1701 	EXX
ccd2  c4 d7 cc      1609   1702 	CALL	NZ,CCC9
ccd5  f1            1610   1703 	POP	AF
ccd6  c9            1611   1704 	RET
                    1612   1705 ;
ccd7  3e 11         1613   1706 CCC9:	LD	A,11H
ccd9  f5            1614   1707 CCCB:	PUSH	AF
ccda  e5            1615   1708 	PUSH	HL
ccdb  21 08 00      1616   1709 	LD	HL,8
ccde  cd ff cf      1617   1710 	CALL	dela1
cce1  e1            1618   1711 	POP	HL
cce2  f1            1619   1712 	POP	AF
cce3  f5            1620   1713 	PUSH	AF
cce4  fe 11         1621   1714 	CP	11H
cce6  28 13         1622   1715 	JR	Z,CCED
cce8  cd 89 cc      1623   1716 CCDA:	CALL	CC7B
cceb  fe 10         1624   1717 	CP	10H
cced  20 05         1625   1718 	JR	NZ,CCE6
ccef  cd c9 cc      1626   1719 	CALL	CCBB
ccf2  f1            1627   1720 	POP	AF
ccf3  c9            1628   1721 	RET
                    1629   1722 ;
ccf4  db 54         1630   1723 CCE6:	IN	A,(54H)
ccf6  2f            1631   1724 	CPL
ccf7  e6 20         1632   1725 	AND	' '
ccf9  28 ed         1633   1726 	JR	Z,CCDA
ccfb  f1            1634   1727 CCED:	POP	AF
ccfc  cb ff         1635   1728 	SET	7,A
ccfe  d3 54         1636   1729 	OUT	(54H),A
cd00  cb bf         1637   1730 	RES	7,A
cd02  d3 54         1638   1731 	OUT	(54H),A
cd04  cb ff         1639   1732 	SET	7,A
cd06  d3 54         1640   1733 	OUT	(54H),A
cd08  cb bf         1641   1734 	RES	7,A
cd0a  c9            1642   1735 	RET
                    1643   1736 ;
cd0b  cd 19 c8      1644   1737 CCFD:	CALL	loctok
cd0e  fe 4f         1645   1738 	CP	'O'
cd10  c2 c0 c1      1646   1739 	JP	NZ,inper
cd13  13            1647   1740 	INC	DE
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 30
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cd14  1a            1648   1741 	LD	A,(DE)
cd15  fe 4e         1649   1742 	CP	'N'
cd17  28 0e         1650   1743 	JR	Z,CD19
cd19  fe 46         1651   1744 	CP	'F'
cd1b  c2 c0 c1      1652   1745 	JP	NZ,inper
cd1e  d9            1653   1746 	EXX
cd1f  cb a8         1654   1747 	RES	5,B
cd21  d9            1655   1748 	EXX
cd22  3e ff         1656   1749 	LD	A,0FFH
cd24  d3 04         1657   1750 	OUT	(4),A
cd26  c9            1658   1751 	RET
                    1659   1752 ;
cd27  d9            1660   1753 CD19:	EXX
cd28  cb e8         1661   1754 	SET	5,B
cd2a  d9            1662   1755 	EXX
cd2b  3e 01         1663   1756 	LD	A,1
cd2d  32 72 00      1664   1757 	LD	(72H),A
cd30  c9            1665   1758 	RET
                    1666   1759 ;
cd31  d9            1667   1760 CD23:	EXX
cd32  cb 68         1668   1761 	BIT	5,B
cd34  d9            1669   1762 	EXX
cd35  c8            1670   1763 	RET	Z
cd36  c5            1671   1764 	PUSH	BC
cd37  cd b6 cf      1672   1765 	CALL	setsel
cd3a  c1            1673   1766 	POP	BC
cd3b  d3 34         1674   1767 	OUT	(34H),A
cd3d  cd e4 cf      1675   1768 	CALL	CFD6
cd40  ee a0         1676   1769 	XOR	0A0H
cd42  d3 04         1677   1770 	OUT	(4),A
cd44  c9            1678   1771 	RET
                    1679   1772 ;
cd45  16 02         1680   1773 CD37:	LD	D,2
cd47  d5            1681   1774 CD39:	PUSH	DE
cd48  cd 7e cd      1682   1775 	CALL	CD70
cd4b  d1            1683   1776 	POP	DE
cd4c  d0            1684   1777 	RET	NC
cd4d  d5            1685   1778 	PUSH	DE
cd4e  3e 0a         1686   1779 	LD	A,0AH
cd50  32 75 00      1687   1780 	LD	(75H),A
cd53  cd d9 cd      1688   1781 	CALL	CDCB
cd56  cd 7e cd      1689   1782 	CALL	CD70
cd59  d1            1690   1783 	POP	DE
cd5a  d0            1691   1784 	RET	NC
cd5b  15            1692   1785 	DEC	D
cd5c  20 e9         1693   1786 	JR	NZ,CD39
cd5e  18 18         1694   1787 	JR	CD6A
                    1695   1788 ;
cd60  16 0a         1696   1789 CD52:	LD	D,0AH
cd62  d5            1697   1790 CD54:	PUSH	DE
cd63  cd 66 ce      1698   1791 	CALL	CE58
cd66  d1            1699   1792 	POP	DE
cd67  d0            1700   1793 	RET	NC
cd68  15            1701   1794 	DEC	D
cd69  20 f7         1702   1795 	JR	NZ,CD54
cd6b  18 0b         1703   1796 	JR	CD6A
                    1704   1797 ;
cd6d  16 04         1705   1798 CD5F:	LD	D,4
cd6f  d5            1706   1799 CD61:	PUSH	DE
cd70  cd ad ce      1707   1800 	CALL	CE9F
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 31
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cd73  d1            1708   1801 	POP	DE
cd74  d0            1709   1802 	RET	NC
cd75  15            1710   1803 	DEC	D
cd76  20 f7         1711   1804 	JR	NZ,CD61
cd78  3a 71 00      1712   1805 CD6A:	LD	A,(71H)
cd7b  4f            1713   1806 	LD	C,A
cd7c  37            1714   1807 	SCF
cd7d  c9            1715   1808 	RET
                    1716   1809 ;
cd7e  97            1717   1810 CD70:	SUB	A	; restore for
cd7f  32 75 00      1718   1811 	LD	(75H),A	; seek tests
cd82  32 78 00      1719   1812 	LD	(78H),A
cd85  cd 63 cf      1720   1813 	CALL	CF55
cd88  d3 34         1721   1814 	OUT	(34H),A
cd8a  cd 33 ce      1722   1815 	CALL	CE25
cd8d  38 0e         1723   1816 	JR	C,CD8F
cd8f  d3 30         1724   1817 	OUT	(30H),A
cd91  db 34         1725   1818 CD83:	IN	A,(34H)
cd93  cb 57         1726   1819 	BIT	2,A	; motor timeout
cd95  20 3b         1727   1820 	JR	NZ,CDC4
cd97  1f            1728   1821 	RRA		; EOJ?
cd98  30 f7         1729   1822 	JR	NC,CD83	; no
cd9a  c3 4c ce      1730   1823 	JP	CE3E	; yes
                    1731   1824 ;
cd9d  3e c4         1732   1825 CD8F:	LD	A,0C4H	; read address
cd9f  d3 30         1733   1826 	OUT	(30H),A
cda1  cd e4 cf      1734   1827 	CALL	CFD6	; side select
cda4  e6 57         1735   1828 	AND	'W'
cda6  d3 04         1736   1829 	OUT	(4),A
cda8  cd f2 cf      1737   1830 	CALL	dela	; delay??
cdab  db 04         1738   1831 CD9D:	IN	A,(4)
cdad  e6 40         1739   1832 	AND	'@'	; seek in progress?
cdaf  20 16         1740   1833 	JR	NZ,CDB9
cdb1  cd dd cf      1741   1834 	CALL	CFCF
cdb4  db 34         1742   1835 CDA6:	IN	A,(34H)
cdb6  cb 57         1743   1836 	BIT	2,A
cdb8  20 18         1744   1837 	JR	NZ,CDC4
cdba  1f            1745   1838 	RRA
cdbb  30 f7         1746   1839 	JR	NC,CDA6
cdbd  3e d0         1747   1840 	LD	A,0D0H	; force interrupt
cdbf  d3 30         1748   1841 	OUT	(30H),A
cdc1  97            1749   1842 	SUB	A
cdc2  d3 31         1750   1843 	OUT	(31H),A	; track reg.
cdc4  c3 5e ce      1751   1844 	JP	CE50
                    1752   1845 ;
cdc7  db 34         1753   1846 CDB9:	IN	A,(34H)
cdc9  cb 57         1754   1847 	BIT	2,A
cdcb  20 05         1755   1848 	JR	NZ,CDC4
cdcd  1f            1756   1849 	RRA
cdce  30 db         1757   1850 	JR	NC,CD9D
cdd0  18 cb         1758   1851 	JR	CD8F
                    1759   1852 ;
cdd2  3e 80         1760   1853 CDC4:	LD	A,80H
cdd4  32 71 00      1761   1854 	LD	(71H),A
cdd7  37            1762   1855 	SCF
cdd8  c9            1763   1856 	RET
                    1764   1857 ;
cdd9  97            1765   1858 CDCB:	SUB	A	; seek?
cdda  cd 63 cf      1766   1859 	CALL	CF55
cddd  d3 34         1767   1860 	OUT	(34H),A
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 32
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cddf  3a 75 00      1768   1861 	LD	A,(75H)
cde2  d3 33         1769   1862 	OUT	(33H),A
cde4  4f            1770   1863 	LD	C,A
cde5  3a 76 00      1771   1864 	LD	A,(76H)
cde8  d3 32         1772   1865 	OUT	(32H),A
cdea  3a 7d 00      1773   1866 	LD	A,(7DH)
cded  d3 31         1774   1867 	OUT	(31H),A
cdef  91            1775   1868 	SUB	C
cdf0  ca dd cf      1776   1869 	JP	Z,CFCF
cdf3  cd 33 ce      1777   1870 	CALL	CE25
cdf6  38 0f         1778   1871 	JR	C,CDF9
cdf8  f6 10         1779   1872 	OR	10H
cdfa  d3 30         1780   1873 	OUT	(30H),A
cdfc  db 34         1781   1874 CDEE:	IN	A,(34H)
cdfe  cb 57         1782   1875 	BIT	2,A
ce00  20 d0         1783   1876 	JR	NZ,CDC4
ce02  1f            1784   1877 	RRA
ce03  30 f7         1785   1878 	JR	NC,CDEE
ce05  18 45         1786   1879 	JR	CE3E
                    1787   1880 ;
ce07  cd e4 cf      1788   1881 CDF9:	CALL	CFD6	;side???
ce0a  e6 4f         1789   1882 	AND	'O'	;4fh?
ce0c  d3 04         1790   1883 	OUT	(4),A
ce0e  3e 18         1791   1884 	LD	A,18H	;FDC seek command
ce10  d3 30         1792   1885 	OUT	(30H),A
ce12  db 34         1793   1886 CE04:	IN	A,(34H)
ce14  cb 57         1794   1887 	BIT	2,A	;motor timeout?
ce16  20 ba         1795   1888 	JR	NZ,CDC4
ce18  1f            1796   1889 	RRA
ce19  30 f7         1797   1890 	JR	NC,CE04
ce1b  db 30         1798   1891 	IN	A,(30H)	;read disk status
ce1d  2e 32         1799   1892 	LD	L,'2'
ce1f  db 04         1800   1893 CE11:	IN	A,(4)	;read aux disk status
ce21  e6 40         1801   1894 	AND	40h	;seek in progress? PerSci only
ce23  20 fa         1802   1895 	JR	NZ,CE11
ce25  2d            1803   1896 	DEC	L
ce26  20 f7         1804   1897 	JR	NZ,CE11
ce28  db 04         1805   1898 CE1A:	IN	A,(4)
ce2a  e6 40         1806   1899 	AND	40h
ce2c  20 fa         1807   1900 	JR	NZ,CE1A
ce2e  cd dd cf      1808   1901 	CALL	CFCF
ce31  18 2b         1809   1902 	JR	CE50
                    1810   1903 ;
ce33  3a 7e 00      1811   1904 CE25:	LD	A,(7EH)
ce36  cb 57         1812   1905 	BIT	2,A
ce38  20 0a         1813   1906 	JR	NZ,CE36
ce3a  cb 5f         1814   1907 	BIT	3,A
ce3c  3e 0e         1815   1908 	LD	A,0EH
ce3e  28 02         1816   1909 	JR	Z,CE34
ce40  3e 0c         1817   1910 	LD	A,0CH
ce42  a7            1818   1911 CE34:	AND	A
ce43  c9            1819   1912 	RET
                    1820   1913 ;
ce44  cb 5f         1821   1914 CE36:	BIT	3,A
ce46  3e 0f         1822   1915 	LD	A,0FH
ce48  28 f8         1823   1916 	JR	Z,CE34
ce4a  37            1824   1917 	SCF
ce4b  c9            1825   1918 	RET
                    1826   1919 ;
ce4c  cd dd cf      1827   1920 CE3E:	CALL	CFCF
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 33
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
ce4f  21 64 00      1828   1921 	LD	HL,64H
ce52  cd ff cf      1829   1922 	CALL	dela1
ce55  db 30         1830   1923 	IN	A,(30H)
ce57  32 71 00      1831   1924 	LD	(71H),A
ce5a  e6 98         1832   1925 	AND	98H
ce5c  37            1833   1926 	SCF
ce5d  c0            1834   1927 	RET	NZ
ce5e  3a 75 00      1835   1928 CE50:	LD	A,(75H)
ce61  32 7d 00      1836   1929 	LD	(7DH),A
ce64  a7            1837   1930 	AND	A
ce65  c9            1838   1931 	RET
                    1839   1932 ;
ce66  cd 9d ce      1840   1933 CE58:	CALL	CE8F	; READ
ce69  d3 30         1841   1934 	OUT	(30H),A
ce6b  db 34         1842   1935 CE5D:	IN	A,(34H)	; disk flags
ce6d  1f            1843   1936 	RRA
ce6e  38 16         1844   1937 	JR	C,CE78	; finished
ce70  ed a2         1845   1938 	INI
ce72  04            1846   1939 	INC	B
ce73  db 34         1847   1940 	IN	A,(34H)	; disk flags
ce75  1f            1848   1941 	RRA
ce76  38 0e         1849   1942 	JR	C,CE78	; finished
ce78  ed a2         1850   1943 	INI
ce7a  c2 6b ce      1851   1944 	JP	NZ,CE5D
ce7d  db 34         1852   1945 CE6F:	IN	A,(34H)	; disk flags
ce7f  cb 4f         1853   1946 	BIT	1,A
ce81  20 10         1854   1947 	JR	NZ,CE85	; autowait timed out
ce83  1f            1855   1948 	RRA
ce84  30 f7         1856   1949 	JR	NC,CE6F
ce86  cd dd cf      1857   1950 CE78:	CALL	CFCF
ce89  db 30         1858   1951 	IN	A,(30H)	; disk status
ce8b  32 71 00      1859   1952 	LD	(71H),A
ce8e  e6 9c         1860   1953 	AND	9CH	; errors
ce90  c8            1861   1954 	RET	Z
ce91  18 08         1862   1955 	JR	CE8D
                    1863   1956 ;
ce93  cd dd cf      1864   1957 CE85:	CALL	CFCF	; chg. side if (78)#0
ce96  3e 80         1865   1958 	LD	A,80H
ce98  32 71 00      1866   1959 	LD	(71H),A
ce9b  37            1867   1960 CE8D:	SCF
ce9c  c9            1868   1961 	RET
                    1869   1962 ;
ce9d  cd 4e cf      1870   1963 CE8F:	CALL	CF40
cea0  57            1871   1964 	LD	D,A
cea1  f3            1872   1965 	DI
cea2  cd d4 cf      1873   1966 	CALL	CFC6
cea5  c6 88         1874   1967 	ADD	A,88H
cea7  5f            1875   1968 	LD	E,A
cea8  7a            1876   1969 	LD	A,D
cea9  d3 34         1877   1970 	OUT	(34H),A	; disk control
ceab  7b            1878   1971 	LD	A,E
ceac  c9            1879   1972 	RET
                    1880   1973 ;
cead  cd f2 cf      1881   1974 CE9F:	CALL	dela	; WRITE
ceb0  cd 4e cf      1882   1975 	CALL	CF40
ceb3  57            1883   1976 	LD	D,A
ceb4  f3            1884   1977 	DI
ceb5  cd d4 cf      1885   1978 	CALL	CFC6
ceb8  c6 a8         1886   1979 	ADD	A,0A8H
ceba  5f            1887   1980 	LD	E,A
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 34
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cebb  7a            1888   1981 	LD	A,D
cebc  d3 34         1889   1982 	OUT	(34H),A
cebe  7b            1890   1983 	LD	A,E
cebf  d3 30         1891   1984 	OUT	(30H),A
cec1  db 34         1892   1985 CEB3:	IN	A,(34H)
cec3  1f            1893   1986 	RRA
cec4  38 12         1894   1987 	JR	C,CECA
cec6  ed a3         1895   1988 	OUTI
cec8  04            1896   1989 	INC	B
cec9  db 34         1897   1990 	IN	A,(34H)
cecb  1f            1898   1991 	RRA
cecc  38 0a         1899   1992 	JR	C,CECA
cece  ed a3         1900   1993 	OUTI
ced0  c2 c1 ce      1901   1994 	JP	NZ,CEB3
ced3  db 34         1902   1995 CEC5:	IN	A,(34H)
ced5  1f            1903   1996 	RRA
ced6  30 fb         1904   1997 	JR	NC,CEC5
ced8  cd dd cf      1905   1998 CECA:	CALL	CFCF
cedb  cd f2 cf      1906   1999 	CALL	dela
cede  db 30         1907   2000 	IN	A,(30H)
cee0  32 71 00      1908   2001 	LD	(71H),A
cee3  e6 fc         1909   2002 	AND	0FCH
cee5  37            1910   2003 	SCF
cee6  c0            1911   2004 	RET	NZ
cee7  a7            1912   2005 	AND	A
cee8  3a 7e 00      1913   2006 	LD	A,(7EH)
ceeb  cb 4f         1914   2007 	BIT	1,A
ceed  c8            1915   2008 	RET	Z
ceee  cd 0e cf      1916   2009 	CALL	CF00
cef1  38 0a         1917   2010 	JR	C,CEEF
cef3  db 34         1918   2011 CEE5:	IN	A,(34H)
cef5  1f            1919   2012 	RRA
cef6  38 04         1920   2013 	JR	C,CEEE
cef8  db 33         1921   2014 	IN	A,(33H)
cefa  18 f7         1922   2015 	JR	CEE5
cefc  1c            1923   2016 CEEE:	INC	E
cefd  cd dd cf      1924   2017 CEEF:	CALL	CFCF
cf00  db 30         1925   2018 	IN	A,(30H)
cf02  32 71 00      1926   2019 	LD	(71H),A
cf05  e6 9c         1927   2020 	AND	9CH
cf07  37            1928   2021 	SCF
cf08  c0            1929   2022 	RET	NZ
cf09  7b            1930   2023 	LD	A,E
cf0a  a7            1931   2024 	AND	A
cf0b  c8            1932   2025 	RET	Z
cf0c  37            1933   2026 	SCF
cf0d  c9            1934   2027 	RET
                    1935   2028 ;
cf0e  cd 9d ce      1936   2029 CF00:	CALL	CE8F
cf11  ed 4b 79 00   1937   2030 	LD	BC,(79H)
cf15  cb 38         1938   2031 	SRL	B
cf17  cb 19         1939   2032 	RR	C
cf19  cb 38         1940   2033 	SRL	B
cf1b  cb 19         1941   2034 	RR	C
cf1d  41            1942   2035 	LD	B,C
cf1e  1e 00         1943   2036 	LD	E,0
cf20  d3 30         1944   2037 	OUT	(30H),A
cf22  db 34         1945   2038 CF14:	IN	A,(34H)
cf24  1f            1946   2039 	RRA
cf25  d8            1947   2040 	RET	C
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 35
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cf26  db 33         1948   2041 	IN	A,(33H)
cf28  ae            1949   2042 	XOR	(HL)
cf29  c0            1950   2043 	RET	NZ
cf2a  23            1951   2044 	INC	HL
cf2b  db 34         1952   2045 	IN	A,(34H)
cf2d  1f            1953   2046 	RRA
cf2e  d8            1954   2047 	RET	C
cf2f  db 33         1955   2048 	IN	A,(33H)
cf31  ae            1956   2049 	XOR	(HL)
cf32  c0            1957   2050 	RET	NZ
cf33  23            1958   2051 	INC	HL
cf34  db 34         1959   2052 	IN	A,(34H)
cf36  1f            1960   2053 	RRA
cf37  d8            1961   2054 	RET	C
cf38  db 33         1962   2055 	IN	A,(33H)
cf3a  ae            1963   2056 	XOR	(HL)
cf3b  c0            1964   2057 	RET	NZ
cf3c  23            1965   2058 	INC	HL
cf3d  db 34         1966   2059 	IN	A,(34H)
cf3f  1f            1967   2060 	RRA
cf40  d8            1968   2061 	RET	C
cf41  db 33         1969   2062 	IN	A,(33H)
cf43  ae            1970   2063 	XOR	(HL)
cf44  c0            1971   2064 	RET	NZ
cf45  23            1972   2065 	INC	HL
cf46  10 da         1973   2066 	DJNZ	CF14
cf48  db 34         1974   2067 CF3A:	IN	A,(34H)
cf4a  1f            1975   2068 	RRA
cf4b  30 fb         1976   2069 	JR	NC,CF3A
cf4d  c9            1977   2070 	RET
                    1978   2071 ;
cf4e  db 33         1979   2072 CF40:	IN	A,(33H)
cf50  3e 80         1980   2073 	LD	A,80H
cf52  cd 63 cf      1981   2074 	CALL	CF55
cf55  2a 79 00      1982   2075 	LD	HL,(79H)
cf58  cb 1c         1983   2076 	RR	H
cf5a  cb 1d         1984   2077 	RR	L
cf5c  45            1985   2078 	LD	B,L
cf5d  0e 33         1986   2079 	LD	C,'3'
cf5f  2a 7b 00      1987   2080 	LD	HL,(7BH)
cf62  c9            1988   2081 	RET
                    1989   2082 ;
cf63  4f            1990   2083 CF55:	LD	C,A
cf64  db 34         1991   2084 	IN	A,(34H)
cf66  e6 04         1992   2085 	AND	4	; motor timeout
cf68  28 04         1993   2086 	JR	Z,CF60	; motor on
cf6a  97            1994   2087 	SUB	A	; motor off
cf6b  32 72 00      1995   2088 	LD	(72H),A
cf6e  cd b6 cf      1996   2089 CF60:	CALL	setsel
cf71  d3 34         1997   2090 	OUT	(34H),A
cf73  f5            1998   2091 	PUSH	AF
cf74  e5            1999   2092 	PUSH	HL
cf75  cd e4 cf      2000   2093 	CALL	CFD6
cf78  e6 5f         2001   2094 	AND	5FH
cf7a  d3 04         2002   2095 	OUT	(4),A
cf7c  3a 72 00      2003   2096 	LD	A,(72H)
cf7f  a7            2004   2097 	AND	A
cf80  28 21         2005   2098 	JR	Z,CF95
cf82  21 90 01      2006   2099 	LD	HL,190H
cf85  3a 73 00      2007   2100 	LD	A,(73H)
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 36
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cf88  b8            2008   2101 	CP	B
cf89  20 1b         2009   2102 	JR	NZ,CF98
cf8b  3a 74 00      2010   2103 	LD	A,(74H)
cf8e  67            2011   2104 	LD	H,A
cf8f  3a 78 00      2012   2105 	LD	A,(78H)
cf92  32 74 00      2013   2106 	LD	(74H),A
cf95  bc            2014   2107 	CP	H
cf96  20 06         2015   2108 	JR	NZ,CF90
cf98  db 34         2016   2109 	IN	A,(34H)
cf9a  e6 20         2017   2110 	AND	' '
cf9c  20 0b         2018   2111 	JR	NZ,CF9B
cf9e  cd f2 cf      2019   2112 CF90:	CALL	dela
cfa1  18 06         2020   2113 	JR	CF9B
                    2021   2114 ;
cfa3  21 20 4e      2022   2115 CF95:	LD	HL,4E20H
cfa6  cd ff cf      2023   2116 CF98:	CALL	dela1
cfa9  e1            2024   2117 CF9B:	POP	HL
cfaa  78            2025   2118 	LD	A,B
cfab  32 73 00      2026   2119 	LD	(73H),A
cfae  3e 01         2027   2120 	LD	A,1
cfb0  32 72 00      2028   2121 	LD	(72H),A
cfb3  f1            2029   2122 	POP	AF
cfb4  b1            2030   2123 	OR	C
cfb5  c9            2031   2124 	RET
                    2032   2125 ;
cfb6  3a 77 00      2033   2126 setsel:	LD	A,(77H)
cfb9  47            2034   2127 	LD	B,A
cfba  04            2035   2128 	INC	B
cfbb  97            2036   2129 	SUB	A
cfbc  37            2037   2130 	SCF
cfbd  17            2038   2131 rotlp:	RLA
cfbe  10 fd         2039   2132 	DJNZ	rotlp
cfc0  47            2040   2133 	LD	B,A
cfc1  3a 7e 00      2041   2134 	LD	A,(7EH)
cfc4  cb 57         2042   2135 	BIT	2,A
cfc6  28 02         2043   2136 	JR	Z,notmx
cfc8  cb e0         2044   2137 	SET	4,B	;set 'maxi'
cfca  cb 47         2045   2138 notmx:	BIT	0,A
cfcc  28 02         2046   2139 	JR	Z,notdd
cfce  cb f0         2047   2140 	SET	6,B	;set 'double density'
cfd0  78            2048   2141 notdd:	LD	A,B
cfd1  f6 20         2049   2142 	OR	20H	;set 'motor on'
cfd3  c9            2050   2143 	RET
                    2051   2144 ;
cfd4  db 34         2052   2145 CFC6:	IN	A,(34H)
cfd6  2f            2053   2146 	CPL
cfd7  e6 20         2054   2147 	AND	' '
cfd9  c8            2055   2148 	RET	Z
cfda  3e 04         2056   2149 	LD	A,4
cfdc  c9            2057   2150 	RET
                    2058   2151 ;
cfdd  cd e4 cf      2059   2152 CFCF:	CALL	CFD6
cfe0  d3 04         2060   2153 	OUT	(4),A	; aux. disk cmd.
cfe2  af            2061   2154 	XOR	A
cfe3  c9            2062   2155 	RET
                    2063   2156 ;
cfe4  c5            2064   2157 CFD6:	PUSH	BC
cfe5  06 7f         2065   2158 	LD	B,7FH	; no action
cfe7  3a 78 00      2066   2159 	LD	A,(78H)
cfea  a7            2067   2160 	AND	A
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 37
Source file: rdos252.asm
Title:       

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
cfeb  28 02         2068   2161 	JR	Z,CFE1
cfed  06 7d         2069   2162 	LD	B,7DH	; opposite side
cfef  78            2070   2163 CFE1:	LD	A,B
cff0  c1            2071   2164 	POP	BC
cff1  c9            2072   2165 	RET
                    2073   2166 ;
cff2  21 08 00      2074   2167 dela:	LD	HL,8
cff5  3a 7e 00      2075   2168 	LD	A,(7EH)
cff8  cb 57         2076   2169 	BIT	2,A
cffa  20 03         2077   2170 	JR	NZ,dela1
cffc  21 0c 00      2078   2171 	LD	HL,0CH
cfff  c5            2079   2172 dela1:	PUSH	BC
d000  2b            2080   2173 dela2:	DEC	HL
d001  06 1c         2081   2174 	LD	B,1CH
d003  10 fe         2082   2175 dela3:	DJNZ	dela3
d005  00            2083   2176 	NOP
d006  00            2084   2177 	NOP
d007  7d            2085   2178 	LD	A,L
d008  b4            2086   2179 	OR	H
d009  20 f5         2087   2180 	JR	NZ,dela2
d00b  c1            2088   2181 	POP	BC
d00c  c9            2089   2182 	RET
                    2090   2183 ;
d00d  ff            2091   2184 	DEFB	0FFH
d00e                2092   2185 	END
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 38
Source file: rdos252.asm
Title:       Symboltable

BOOT     c06c 	BS       0008 	C003     c003*	C030     c030 	
C037     c037 	C03B     c03b 	C0C8     c0c8 	C0E8     c0e9 	
C0F3     c0f4 	C0FA     c0fc 	C115     c117 	C131     c133 	
C151     c153 	C186     c189 	C1B9     c1bc 	C1C4     c1c7 	
C1C7     c1ca 	C1C8     c1cb 	C1E2     c1e5 	C1F7     c1fa 	
C202     c205 	C20F     c212 	C213     c216 	C22C     c22f 	
C234     c237 	C23B     c23e 	C245     c248 	C251     c254 	
C261     c264 	C264     c267 	C26D     c270 	C281     c284 	
C298     c29b 	C29C     c29f 	C2A6     c2a9 	C2AC     c2af 	
C2AE     c2b1 	C2B9     c2bc*	C2C1     c2c4 	C2ED     c2f0 	
C2FB     c2fe 	C320     c323 	C345     c348 	C359     c35c 	
C363     c366 	C37A     c37d 	C384     c387 	C387     c38a 	
C39B     c39e 	C3A1     c3a4 	C3AE     c3b1 	C3B5     c3b8 	
C3B7     c3ba 	C3D4     c3d7 	C3DE     c3e1 	C3EA     c3ed 	
C3EE     c3f1 	C3F6     c3f9 	C40A     c40d 	C40D     c410 	
C413     c416 	C42A     c42e 	C439     c43d 	C446     c44a 	
C463     c467 	C495     c49a 	C498     c49d 	C49E     c4a3 	
C4A1     c4a6 	C4B1     c4b6 	C4D4     c4d9 	C4DA     c4df 	
C4E1     c4e6 	C4ED     c4f2 	C4F8     c4fd 	C504     c509 	
C508     c50d 	C516     c51b 	C51A     c51f 	C51C     c521 	
C52E     c533 	C54F     c554 	C57E     c583 	C5AB     c5b0 	
C5BB     c5c0 	C5C8     c5cd 	C5DE     c5e3 	C5F2     c5f7 	
C5F8     c5fd 	C604     c609 	C611     c616 	C61E     c623 	
C62A     c62f 	C636     c63b 	C645     c64a 	C652     c657 	
C655     c65a 	C672     c677 	C67A     c67f 	C689     c68e 	
C6A3     c6a8 	C6AF     c6b4 	C6B6     c6bb 	C6BD     c6c2 	
C6C2     c6c7 	C6D2     c6d7 	C6D8     c6dd 	C6E0     c6e5 	
C6F1     c6f6 	C6F7     c6fc 	C719     c71e 	C726     c72b 	
C72B     c730 	C733     c738 	C73C     c741 	C74C     c751 	
C75B     c760 	C760     c765 	C76A     c76f 	C77D     c782 	
C788     c78d 	C792     c797 	C79C     c7a1 	C7A0     c7a5 	
C7A3     c7a8 	C7B3     c7b8 	C7C4     c7c9 	C7CD     c7d2 	
C82F     c834 	C84E     c853 	C853     c858 	C85B     c860 	
C862     c867 	C865     c86a 	C868     c86d 	C869     c86e 	
C879     c87e 	C87A     c87f 	C885     c88a 	C887     c88c 	
C890     c895 	C8A4     c8a9 	C8A6     c8ab 	C8AD     c8b2 	
C8B0     c8b5 	C8B5     c8ba 	C8C5     c8ca 	C8CA     c8cf 	
C8CD     c8d2 	C8DB     c8e0 	C8E0     c8e5 	C8F1     c8f6 	
C8F4     c8f9 	C8F7     c8fc 	C90A     c90f 	C910     c915 	
C91B     c920 	C929     c92e*	C941     c946 	C94A     c94f 	
C95F     c965 	C96E     c974 	C975     c97b 	C97C     c982 	
C98A     c990 	C996     c99c 	C99B     c9a1 	C99C     c9a2 	
C9A4     c9aa 	CA35     ca3c 	CA3F     ca46 	CA4C     ca54 	
CA51     ca59 	CABB     cac3 	CAC7     cacf 	CB35     cb3f 	
CB5D     cb67 	CB6A     cb74 	CB6B     cb75 	CB94     cb9f 	
CB9E     cbaa 	CBB0     cbbd 	CBC1     cbce 	CBD1     cbde 	
CBDA     cbe7 	CBEA     cbf7 	CBEC     cbf9 	CBF2     cbff 	
CC09     cc16 	CC1A     cc27 	CC2D     cc3a 	CC3C     cc49 	
CC45     cc52 	CC4B     cc58 	CC52     cc5f 	CC64     cc72 	
CC7B     cc89 	CC8E     cc9c 	CC99     cca7 	CCA4     ccb2 	
CCBB     ccc9 	CCC9     ccd7 	CCCB     ccd9 	CCDA     cce8 	
CCE6     ccf4 	CCED     ccfb 	CCFD     cd0b 	CD19     cd27 	
CD23     cd31 	CD37     cd45 	CD39     cd47 	CD52     cd60 	
CD54     cd62 	CD5F     cd6d 	CD61     cd6f 	CD6A     cd78 	
CD70     cd7e 	CD83     cd91 	CD8F     cd9d 	CD9D     cdab 	
CDA6     cdb4 	CDB9     cdc7 	CDC4     cdd2 	CDCB     cdd9 	
CDEE     cdfc 	CDF9     ce07 	CE04     ce12 	CE11     ce1f 	
CE1A     ce28 	CE25     ce33 	CE34     ce42 	CE36     ce44 	
CE3E     ce4c 	CE50     ce5e 	CE58     ce66 	CE5D     ce6b 	
CE6F     ce7d 	CE78     ce86 	CE85     ce93 	CE8D     ce9b 	
CE8F     ce9d 	CE9F     cead 	CEB3     cec1 	CEC5     ced3 	
CECA     ced8 	CEE5     cef3 	CEEE     cefc 	CEEF     cefd 	
Z80-Assembler	Release 1.9	Wed May 16 20:11:05 2018	Page 39
Source file: rdos252.asm
Title:       Symboltable

CF00     cf0e 	CF14     cf22 	CF3A     cf48 	CF40     cf4e 	
CF55     cf63 	CF60     cf6e 	CF90     cf9e 	CF95     cfa3 	
CF98     cfa6 	CF9B     cfa9 	CFC6     cfd4 	CFCF     cfdd 	
CFD6     cfe4 	CFE1     cfef 	CKCRY    cb84 	CKESC    c12a 	
CKINST   cc84 	CLDST    c03f 	CLP1     c04f 	CLP2     c052 	
CR       000d 	CRLF     cca5 	DELA     cff2 	DELA1    cfff 	
DELA2    d000 	DELA3    d003 	ENDPTS   c817 	ESC      001b 	
ESCLP    c09a 	FNDEOL   c82c 	GETSW    c067 	GOMON    c13b 	
HXPA     c7ec 	HXPHL    c7e7 	INCHR    cc7a 	INLP     c157 	
INPER    c1c0 	LC2UC    c7d7 	LOCTOK   c819 	MSBON    0080 	
NG       cb8d 	NOTDD    cfd0 	NOTMX    cfca 	PSPA     c7e0 	
PT7BA    c803 	PTCHL    c80c 	PTCHR    c7f5 	PTFOL    c80b 	
PTNUM    c7fd 	PTSPC    c801 	RMCOM    c820 	ROTLP    cfbd 	
SEKLP    ca01 	SEKTAB   ca27 	SETPAT   cbae 	SETSEL   cfb6 	
SETURT   c24e 	SPACE    0020 	SQUOTE   0027 	START    c000 	
TABLE    c18e 	